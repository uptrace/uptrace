schema: v2
name: 'DB: PostgreSQL indexes'

table:
  metrics:
    - postgresql_index_scans as $index_scans
    - postgresql_index_size as $index_size
  query:
    - group by host_name
    - group by postgresql_database_name
    - group by postgresql_table_name
    - group by postgresql_index_name
    - $index_size
    - per_min($index_scans)

grid_rows:
  - title: General
    items:
      - title: Number of index scans
        metrics:
          - postgresql_index_scans as $index_scans
        query:
          - per_min($index_scans)

      - title: Index size
        metrics:
          - postgresql_index_size as $index_size
        query:
          - $index_size
