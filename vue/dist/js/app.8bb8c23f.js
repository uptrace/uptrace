(function(e){function t(t){for(var n,s,i=t[0],u=t[1],c=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,i=1;i<a.length;i++){var u=a[i];0!==r[u]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},o=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"05d5":function(e,t,a){},"0614":function(e,t,a){"use strict";a("38fb")},"0a67":function(e,t,a){"use strict";a("ae17")},"0ae5":function(e,t,a){"use strict";a("1fec")},"10d3":function(e,t,a){},"13cd":function(e,t,a){"use strict";a("d798")},"14f3":function(e,t,a){},1744:function(e,t,a){"use strict";a("ac42")},1775:function(e,t,a){"use strict";a("14f3")},"1cac":function(e,t,a){},"1f3b":function(e,t,a){"use strict";a("e2c0")},"1fec":function(e,t,a){},"224b":function(e,t,a){},2784:function(e,t,a){},"2cd1":function(e,t,a){},"38fb":function(e,t,a){},"4e08":function(e,t,a){"use strict";a("a4cd")},"4ec0":function(e,t,a){"use strict";a("763e")},"5a7a":function(e,t,a){"use strict";a("2784")},"6de3":function(e,t,a){"use strict";a("dd93")},"735d":function(e,t,a){"use strict";a("10d3")},"763e":function(e,t,a){},"7a89":function(e,t,a){"use strict";a("96e0")},"868d":function(e,t,a){},8784:function(e,t,a){"use strict";a("05d5")},"87c2":function(e,t,a){"use strict";a("1cac")},"96e0":function(e,t,a){},"9fbb":function(e,t,a){},a4cd:function(e,t,a){},a4e0:function(e,t,a){"use strict";a("868d")},ac42:function(e,t,a){},adf7:function(e,t,a){"use strict";a("9fbb")},ae17:function(e,t,a){},b19c:function(e,t,a){},b20f:function(e,t,a){},c05d:function(e,t,a){"use strict";a("224b")},c867:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("6005"),a("a01d"),a("46d2"),a("6463");var n=a("d04a"),r=a("2d3f"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",elevation:"1",color:"white"}},[a("v-container",{staticClass:"pa-0 fill-height",attrs:{fluid:e.$vuetify.breakpoint.lgAndDown}},[a("v-row",{staticClass:"flex-nowrap",attrs:{align:"center"}},[a("v-col",{attrs:{cols:"auto"}},[a("div",{staticClass:"mt-2"},[!e.user.isAuth||e.$vuetify.breakpoint.lgAndUp?a("UptraceLogoLarge",{attrs:{to:{name:"Home"}}}):a("UptraceLogoSmall",{attrs:{to:{name:"Home"}}})],1)]),a("v-col",{attrs:{cols:"auto"}},[a("ProjectPicker")],1),a("v-col",{attrs:{cols:"auto"}},[a("v-tabs",{staticClass:"ml-8",attrs:{optional:""}},[e.user.isAuth&&e.$route.params.projectId?[a("v-tab",{attrs:{to:{name:"Overview"}}},[e._v("Overview")]),a("v-tab",{attrs:{to:{name:"GroupList"}}},[e._v("Explore")]),a("v-tab",{attrs:{to:{name:"Help"}}},[e._v("Help")])]:e._e(),e.user.isAuth?e._e():a("v-tab",{attrs:{to:{name:"Login"}}},[e._v("Login")])],2)],1),a("v-spacer"),a("v-col",{attrs:{cols:"auto"}},[a("v-text-field",{staticStyle:{"min-width":"300px",width:"300px"},attrs:{loading:"traceSearch.loading","prepend-inner-icon":"mdi-magnify",placeholder:"Jump to trace id...","hide-details":"",flat:"",solo:"","background-color":"grey lighten-4"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.jumpToTrace.apply(null,arguments)}},model:{value:e.traceId,callback:function(t){e.traceId=t},expression:"traceId"}})],1),a("v-col",{staticClass:"d-none d-md-inline-block",attrs:{cols:"auto"}},[a("v-btn",{staticClass:"deep-orange darken-3 ml-lg-10",attrs:{href:"https://uptrace.dev/compare-open-source",target:"_blank",dark:""}},[e._v("Upgrade")])],1),e.user.isAuth?a("v-col",{staticClass:"d-none d-md-inline-block",attrs:{cols:"auto"}},[a("v-menu",{attrs:{bottom:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{icon:""}},n),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!1,2097855828)},[a("v-list",[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"font-weight-bold"},[e._v(e._s(e.user.current.username||"Anonymous"))])],1)],1),a("v-divider"),a("v-list-item",{on:{click:e.user.logout}},[a("v-list-item-title",[e._v("Sign out")])],1)],1)],1)],1):e._e()],1)],1)],1),a("v-main",[a("XSnackbar"),a("router-view")],1),a("v-footer",{attrs:{app:"",absolute:"",color:"grey lighten-5"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-col",{attrs:{cols:"auto"}},[e._v(" Found a bug? Create an "),a("a",{attrs:{href:"https://github.com/uptrace/uptrace/issues",target:"_blank"}},[e._v("issue")]),e._v(". Have a suggestion? Start a "),a("a",{attrs:{href:"https://github.com/uptrace/uptrace/discussions",target:"_blank"}},[e._v("discussion")]),e._v(". ")])],1)],1)],1)],1)},s=[],i=(a("582e"),a("7e15"),a("4956")),u=(a("a2c3"),a("7697"),a("b35d"),a("4967"),a("eef3"),a("e0f4"),a("9b3c"),a("3b38"),a("1753"),a("c63a"),a("0297"),a("bcba"));function c(e){var t;return function(){return void 0===t&&(t=e()),t}}function l(){var e=Object(r["getCurrentInstance"])();if(!e)throw new Error("useRouter is called outside of setup");var t=e.proxy.$router,a=Object(r["computed"])((function(){return e.proxy.$route}));return{router:t,route:a}}var d=c((function(){var e,t=l(),a=t.router,n=t.route,o=Object(r["shallowRef"])(),s=Object(r["shallowRef"])([]),c=Object(r["shallowRef"])([]),d=Object(r["computed"])((function(){if(n.value.matched.length){var e,t={},a=Object(i["a"])(c.value);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(r.toQuery){var o=r.toQuery();o&&Object.assign(t,Object(u["cloneDeep"])(o))}}}catch(s){a.e(s)}finally{a.f()}return t}})),v=Object(u["debounce"])((function(t,n){if(void 0!==n){for(var r in n)if(void 0===n[r])return;e=Object(u["omit"])(t,"matched"),e.query=n,a.replace({query:n,hash:t.hash}).catch((function(){}))}}),10);function f(e){function t(){var t=c.value.findIndex((function(t){return t===e}));t>=0&&(c.value.splice(t,1),c.value=c.value)}return c.value.push(e),c.value=c.value,Object(r["onBeforeUnmount"])(t),e.fromQuery&&Object(r["onBeforeMount"])((function(){o.value&&e.fromQuery&&e.fromQuery(o.value.query)})),t}function b(e){s.value.push(e),s.value=s.value,Object(r["onBeforeUnmount"])((function(){var t=s.value.findIndex((function(t){return t===e}));t>=0&&(s.value.splice(t,1),s.value=s.value)})),Object(r["onBeforeMount"])((function(){o.value&&e(o.value)}))}return Object(r["watch"])(n,(function(t){if(t.matched.length&&(!e||!p(t,e))){var a,n=Object(i["a"])(c.value);try{for(n.s();!(a=n.n()).done;){var r=a.value;r.fromQuery&&r.fromQuery(t.query)}}catch(v){n.e(v)}finally{n.f()}var u,l=Object(i["a"])(s.value);try{for(l.s();!(u=l.n()).done;){var d=u.value;d(t)}}catch(v){l.e(v)}finally{l.f()}o.value=t}}),{immediate:!0,flush:"sync"}),Object(r["watch"])(n,(function(t){t.matched.length&&(e&&p(t,e)||v(t,d.value))}),{flush:"post"}),Object(r["watch"])(d,(function(e,t){m(e,t)||v(n.value,e)}),{immediate:!0,flush:"post"}),{route:o,onRouteUpdated:b,sync:f}}));function p(e,t){return e.path===t.path&&v(e.params,t.params)&&m(e.query,t.query)}function v(e,t){return JSON.stringify(e,Object.keys(e).sort())===JSON.stringify(t,Object.keys(t).sort())}function m(e,t){var a=new URLSearchParams(e),n=new URLSearchParams(t);return a.toString()===n.toString()}var f=a("fb07"),b=(a("833b"),a("dc3b")),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("XPlaceholder",{scopedSlots:e._u([e.systems.hasNoData?{key:"placeholder",fn:function(){return[a("HelpCard",{attrs:{"date-range":e.dateRange,loading:e.systems.loading}})]},proxy:!0}:null],null,!0)},[a("PageToolbar",{attrs:{loading:e.systems.loading}},[a("v-spacer"),a("DateRangePicker",{attrs:{"date-range":e.dateRange}})],1),a("div",{staticClass:"border"},[a("div",{staticClass:"grey lighten-5"},[a("v-container",{staticClass:"mb-2",attrs:{fluid:""}},[a("SystemQuickMetrics",{attrs:{loading:e.systems.loading,systems:e.systems.list}})],1),a("v-container",{staticClass:"pb-0",attrs:{fluid:e.$vuetify.breakpoint.mdAndDown}},[a("v-tabs",{attrs:{"background-color":"transparent"}},[a("v-tab",{attrs:{to:{name:"Overview"}}},[e._v("Systems")]),a("v-tab",{attrs:{to:{name:"ServiceOverview"}}},[e._v("Services")]),a("v-tab",{attrs:{to:{name:"HostOverview"}}},[e._v("Hosts")])],1)],1)],1)]),a("v-container",{attrs:{fluid:e.$vuetify.breakpoint.mdAndDown}},[a("v-row",[a("v-col",[a("router-view",{attrs:{"date-range":e.dateRange,systems:e.systems}})],1)],1)],1)],1)},g=[],y=a("a3c6"),x=a("e97b"),O=a("e48e"),j=a("e636"),_=(a("c19e"),a("c3c4"),a("239e")),C=a("5529"),w=a("7a4f"),k=a("5e25"),S=c((function(){var e=Object(r["ref"])(0);function t(){e.value=Date.now()}var a=Object(r["computed"])((function(){return e.value?{_force:e.value}:{}}));return{forceReload:t,forceReloadParams:a}})),V=(a("da4f"),a("3017")),P=a("83af"),q=(a("17ae"),a("687d"),a("82ba")),T=a("98ee"),R=1,I=1e3*R,E=60*I,M=60*E,L=24*M;function N(e){if(e instanceof Date)return e;if("number"===typeof e)return new Date(e);if("string"!==typeof e)return new Date(NaN);if(/^\d+$/.test(e))return new Date(parseInt(e,10)/1e6);var t=Date.parse(e);return new Date(t)}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LLL d y HH:mm";return B(e,t)}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LLL d y HH:mm:ss.SSS";return B(e,t)}function B(e,t){return e?("string"===typeof e&&(e=Object(V["a"])(e)),Object(P["a"])(e,t)):String(e)}var A="yyyyMMdd'T'HHmmss";function F(e){return Object(P["a"])(X(e),A)}function G(e){var t=Object(q["a"])(e,A,new Date);return Object(T["a"])(t)?(t=U(t),t):new Date(e)}function X(e){return Object(C["a"])(e,e.getTimezoneOffset()*E)}function U(e){return Object(_["a"])(e,e.getTimezoneOffset()*E)}function H(e,t){var a=e.getTime()%t;return 0===a?e:Object(C["a"])(e,t-a)}function Q(){var e,t=Object(r["ref"])(),a=Object(r["ref"])(!1),n=Object(r["ref"])(0),o=S(),s=o.forceReload,i=o.forceReloadParams,u=Object(r["computed"])((function(){return Boolean(t.value)&&Boolean(n.value)})),c=Object(r["computed"])((function(){if(u.value){var e=Object(_["a"])(t.value,n.value);return e}})),l=Object(r["computed"])({get:function(){return U(c.value).toISOString().substr(0,10)},set:function(e){var t=X(new Date(e));V(t)}}),p=Object(r["computed"])({get:function(){var e=c.value;return"".concat(e.getHours(),":").concat(e.getMinutes())},set:function(e){var t=new Date(c.value.getTime()),a=e.split(":"),n=Object(j["a"])(a,2),r=n[0],o=n[1];t.setHours(parseInt(r,10)),t.setMinutes(parseInt(o,10)),V(t)}});function v(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!n&&!a.value)return!1;a.value=!0;var r=H(new Date,E);return!(r<=t.value)&&(t.value=r,e&&clearTimeout(e),e=setTimeout(v,5*E),!0)}function m(){e&&(clearTimeout(e),e=null),a.value=!1}function f(){v(!0),s()}function b(){m(),t.value=void 0,n.value=0}function h(e,a){var r=a.getTime()-e.getTime();t.value&&t.value.getTime()===a.getTime()&&n.value===r||(m(),t.value=a,n.value=r)}function g(e){if(t.value&&!a.value){var r=Object(C["a"])(c.value,e),o=new Date;if(r<o)return n.value=e,void(t.value=r)}n.value=e,v(!0)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;"string"===typeof e&&(e=new Date(e)),t&&(n.value=t),e=Object(C["a"])(e,n.value/2);var a=H(new Date,E);e=Object(w["a"])([e,a]),P(e)}function V(e){P(Object(C["a"])(e,n.value))}function P(e){m(),t.value=e}var q=Object(r["computed"])((function(){if(!u.value)return!1;var e=Object(k["a"])(new Date,c.value);return e<30*L}));function T(){m(),t.value=Object(_["a"])(t.value,n.value)}var R=Object(r["computed"])((function(){if(!u.value||a.value)return!1;var e=Object(k["a"])(new Date,t.value);return e>15*E}));function M(){var e=Object(C["a"])(t.value,n.value),a=new Date;P(e<=a?e:a)}function N(){var e;return u.value?a.value?Object(O["a"])({},"time_dur",n.value/I):(e={},Object(O["a"])(e,"time_gte",F(c.value)),Object(O["a"])(e,"time_dur",n.value/I),e):{}}function D(e){var t=e["time_dur"],a=e["time_gte"];t&&(n.value=parseInt(t,10)*I,"string"===typeof a?V(G(a)):v(!0))}function $(){if(!u.value)return{time_gte:void 0,time_lt:void 0};var e=c.value,a=t.value,n=Object(x["a"])(Object(x["a"])({},i.value),{},{time_gte:e.toISOString(),time_lt:a.toISOString()});return n}function B(){d().sync({fromQuery:function(e){D(e)},toQuery:function(){return N()}})}return Object(r["proxyRefs"])({gte:c,lt:t,isValid:u,isNow:a,duration:n,datePicker:l,timePicker:p,updateNow:v,reload:f,forceReload:s,reset:b,change:h,changeDuration:g,changeWithin:y,changeGTE:V,changeLT:P,hasPrevPeriod:q,prevPeriod:T,hasNextPeriod:R,nextPeriod:M,queryParams:N,axiosParams:$,syncQuery:B})}a("60d1"),a("d4c6"),a("5a44"),a("edf1"),a("20ad"),a("9e06"),a("b05f");var W=a("4f14"),K=a.n(W),z=c((function(){var e=Object(r["ref"])(""),t=Object(r["ref"])(!1),a=Object(r["ref"])(""),n=Object(r["ref"])(-1);function o(e){i(e),a.value="success"}function s(e){i(J(e)),a.value="error"}function i(a){e.value=a,t.value=!0,n.value=1e4}return Object(r["proxyRefs"])({notification:e,active:t,color:a,timeout:n,notifySuccess:o,notifyError:s})}));function J(e){return"string"===typeof e?e:e.message}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=z(),n=Object(r["shallowRef"])(),o=Object(r["shallowRef"])(),s=Object(r["shallowRef"])(!1),i=0,u=function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];var r;return i++,function(t){s.value=!0,r=e.apply(void 0,a),r.then((function(e){s.value=!1,t===i&&c(e)}),(function(e){return s.value=!1,t===i&&l(e),e}))}(i),r},c=function(e){n.value=e,o.value=void 0},l=function(e){if(null!==e&&!K.a.isCancel(e)){if(void 0===e)return n.value=void 0,void(o.value=void 0);n.value=void 0,o.value=e}},d=function(){i++},p=Object(r["computed"])((function(){var e,t,a,n=null===(e=o.value)||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message;return n||Y(o.value)}));return t.ignoreErrors||Object(r["watch"])(o,(function(e){var t;if(e&&p.value)switch(null===(t=e.response)||void 0===t?void 0:t.status){case 400:case 500:a.notifyError(p.value)}})),{promised:u,result:n,error:o,errorMessage:p,pending:s,cancel:d}}function Y(e){return"string"===typeof e?e:e.message}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null,a=Z((function(e){return null===e?Promise.reject(null):te(e)?(e&&!e.cancelToken&&(t=K.a.CancelToken.source(),e=Object(x["a"])(Object(x["a"])({},e),{},{cancelToken:t.token})),K.a.request(e)):Promise.reject(void 0)}),e),n=a.pending,o=a.promised,s=a.result,i=a.error,u=a.cancel,c=Object(r["computed"])((function(){var e;return null===(e=s.value)||void 0===e?void 0:e.data}));function l(){u(),t&&(t.cancel(),t=null)}function d(e,t){return l(),t&&t.signal.addEventListener("abort",(function(){l()})),o(e)}return{loading:n,result:s,data:c,error:i,request:d,abort:l}}function te(e){return void 0!==e&&((!e.url||!e.url.includes("undefined"))&&((!("params"in e)||void 0!==e.params)&&(!(e.params&&!ae(e.params))&&((!("data"in e)||void 0!==e.data)&&!(e.data&&!ae(e.data))))))}function ae(e){for(var t in e)if(void 0===e[t])return!1;return!0}function ne(e,t){var a,n,o="",s=function(e,r,o){a=new AbortController,t(e,n,o,a).catch((function(){})).finally((function(){a=void 0}))},i=function(e,t,a){c(),s(e,n,a),n=e,o=JSON.stringify(n)},u=i;function c(){a&&(a.abort(),a=void 0,n=void 0,o="")}function l(e){var t=function(){};if(e){if(a&&!d(e))return;return s(e,n,t)}if(n){if(a)return;return s(n,void 0,t)}}function d(e){return JSON.stringify(e)!==o}i=function(e,t,a){d(e)&&u(e,t,a)};var p=Object(r["watch"])(e,i,{immediate:!0});return Object(r["onBeforeUnmount"])(c),{abort:c,reload:l,stopWatch:p}}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=ee(t),n=a.loading,r=a.data,o=a.error,s=a.request,i=ne(e,(function(e,t,a,n){return s(e,n)})),u=i.reload,c=i.abort;return{loading:n,data:r,error:o,abort:c,reload:u}}function oe(e){var t=l(),a=t.route,n=re((function(){var t=a.value.params.projectId;return{url:"/api/tracing/".concat(t,"/systems"),params:Object(x["a"])({},e.axiosParams())}})),o=n.loading,s=n.data,i=Object(r["computed"])((function(){var e,t;return se(null!==(e=null===(t=s.value)||void 0===t?void 0:t.systems)&&void 0!==e?e:[])})),u=Object(r["computed"])((function(){return ie(i.value)})),c=Object(r["computed"])((function(){var e;return!!Array.isArray(null===(e=s.value)||void 0===e?void 0:e.systems)&&0===s.value.systems.length})),d=Object(r["shallowRef"])(),p=Object(r["computed"])({get:function(){return d.value},set:function(e){d.value=e||void 0}}),v=Object(r["computed"])((function(){if(p.value){var e=i.value.find((function(e){return e.system===p.value}));return e}})),m=Object(r["computed"])((function(){var e,t;return null!==(e=null===(t=v.value)||void 0===t?void 0:t.isEvent)&&void 0!==e&&e}));function f(){var e;return{system:null===(e=v.value)||void 0===e?void 0:e.system}}function b(e){p.value=e}function h(){p.value=void 0}return Object(r["proxyRefs"])({loading:o,list:i,tree:u,hasNoData:c,activeValue:p,activeItem:v,isEvent:m,axiosParams:f,change:b,reset:h})}function se(e){if(!e.length)return[];e=Object(u["clone"])(e);var t,a={},n=Object(i["a"])(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=r.system.indexOf(":");if(-1!==o){var s=r.system.slice(0,o),c=a[s];c||(c={system:s,isEvent:!1,count:0,countPerMin:0,errorCount:0,dummy:!0,numChild:0},a[s]=c),c.count+=r.count,c.countPerMin+=r.countPerMin,c.errorCount+=r.errorCount,c.numChild++}}}catch(m){n.e(m)}finally{n.f()}for(var l in a){var d=a[l];e.push(Object(x["a"])(Object(x["a"])({},d),{},{system:d.system+":all"}))}e=Object(u["orderBy"])(e,"system");var p=e.findIndex((function(e){return"internal"===e.system}));if(p>=0){var v=e[p];v.dummy=!0,e.splice(p,1),e.unshift(v)}return e.unshift({system:"all",isEvent:!1,count:0,countPerMin:0,errorCount:0,dummy:!0,numChild:0}),e}function ie(e){return e=Object(u["clone"])(e),e=e.filter((function(e){return 1!==e.numChild})),e.slice(0).forEach((function(t){if(t.system.endsWith(":all")){for(var a=[],n=t.system.slice(0,-"all".length),r=e.length-1;r>=0;r--){var o=e[r];o.system!=t.system&&(o.system.startsWith(n)&&(e.splice(r,1),a.push(o)))}t.children=a}})),e}var ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-no-wrap"},[a("v-btn",{attrs:{text:"",icon:"",disabled:!e.dateRange.hasPrevPeriod,title:"Previous period"},on:{click:e.dateRange.prevPeriod}},[a("v-icon",{staticClass:"small"},[e._v("mdi-chevron-left")])],1),e.dateRange.gte?a("DateTimePeriodMenu",{attrs:{"date-range":e.dateRange,periods:e.periods}}):e._e(),a("PeriodPickerMenu",{attrs:{value:e.dateRange.duration,periods:e.periods},on:{input:function(t){return e.dateRange.changeDuration(t)}}}),a("v-btn",{attrs:{text:"",icon:"",disabled:!e.dateRange.hasNextPeriod,title:"Next period"},on:{click:e.dateRange.nextPeriod}},[a("v-icon",{staticClass:"small"},[e._v("mdi-chevron-right")])],1),a("v-btn",{staticClass:"ml-2",attrs:{small:"",outlined:""},on:{click:e.dateRange.reload}},[a("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-refresh")]),a("span",[e._v(e._s(e.dateRange.isNow?"Reload":"Reset"))])],1)],1)},ce=[],le=(a("8ec1"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[e.dateRange.isNow?a("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",r,!1),n),[a("v-icon",{attrs:{small:"",title:e.datetimeFull(e.dateRange.gte)}},[e._v("mdi-calendar-blank")])],1):a("v-btn",e._g(e._b({staticClass:"px-1",attrs:{text:"",small:""}},"v-btn",r,!1),n),[a("XDate",{attrs:{date:e.dateRange.gte,format:e.format}}),a("v-icon",[e._v("mdi-menu-down")])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("DateTimePeriod",{attrs:{"date-range":e.dateRange,periods:e.periods},on:{"click:ok":function(t){e.menu=!1}}})],1)}),de=[],pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{width:"340"}},[a("v-tabs",{attrs:{"background-color":"primary",dark:"","icons-and-text":"","fixed-tabs":""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("v-tab",{attrs:{href:"#date"}},[e._v(" Date "),a("v-icon",[e._v("mdi-calendar-outline")])],1),a("v-tab",{attrs:{href:"#time"}},[e._v(" Time "),a("v-icon",[e._v("mdi-clock-outline")])],1),a("v-tab",{attrs:{href:"#period"}},[e._v(" Period "),a("v-icon",[e._v("mdi-calendar-range-outline")])],1)],1),a("v-tabs-items",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("v-tab-item",{attrs:{value:"date"}},[a("v-date-picker",{attrs:{"full-width":""},model:{value:e.dateRange.datePicker,callback:function(t){e.$set(e.dateRange,"datePicker",t)},expression:"dateRange.datePicker"}})],1),a("v-tab-item",{attrs:{value:"time"}},[a("v-time-picker",{staticClass:"v-time-picker-custom",attrs:{format:"24hr","full-width":""},model:{value:e.dateRange.timePicker,callback:function(t){e.$set(e.dateRange,"timePicker",t)},expression:"dateRange.timePicker"}})],1),a("v-tab-item",{attrs:{value:"period"}},[a("v-card",{attrs:{"min-height":"378px"}},[a("PeriodList",{attrs:{"date-range":e.dateRange,periods:e.periods}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$emit("click:ok")}}},[e._v("OK")])],1)],1)},ve=[],me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-list",{attrs:{dense:""}},[a("v-list-item-group",{attrs:{color:"primary"},model:{value:e.activePeriodMs,callback:function(t){e.activePeriodMs=t},expression:"activePeriodMs"}},e._l(e.periods,(function(t){return a("v-list-item",{key:t.ms,attrs:{value:t.ms}},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.text)}})],1)],1)})),1)],1)},fe=[],be=Object(r["defineComponent"])({name:"PeriodList",props:{dateRange:{type:Object,required:!0},periods:{type:Array,required:!0}},setup:function(e,t){var a=t.emit,n=Object(r["computed"])({get:function(){return e.dateRange.duration},set:function(t){e.dateRange.changeDuration(t)}}),o=Object(r["computed"])((function(){var t=e.periods.find((function(e){return e.ms===n.value}));return t}));return Object(r["onMounted"])((function(){Object(r["watchEffect"])((function(){if(!o.value){var t=e.periods[0];n.value=t.ms}}))})),Object(r["watch"])(o,(function(e){a("update:period",e)}),{immediate:!0}),{activePeriodMs:n,activePeriod:o}}}),he=be,ge=a("bdd7"),ye=a("b2e7"),xe=a.n(ye),Oe=a("0b15"),je=a("0489"),_e=a("ed7b"),Ce=a("4ab6"),we=Object(ge["a"])(he,me,fe,!1,null,null,null),ke=we.exports;xe()(we,{VList:Oe["a"],VListItem:je["a"],VListItemContent:_e["b"],VListItemGroup:Ce["a"],VListItemTitle:_e["c"]});var Se=Object(r["defineComponent"])({name:"DateTimePeriod",components:{PeriodList:ke},props:{dateRange:{type:Object,required:!0},periods:{type:Array,required:!0}},setup:function(){var e=Object(r["ref"])();return{activeTab:e}}}),Ve=Se,Pe=(a("d36a"),a("a851")),qe=a("cd07"),Te=a("ef21"),Re=a("f79f"),Ie=a("7724"),Ee=a("c65d"),Me=a("b8b2"),Le=a("1643"),Ne=a("61c3"),De=a("6eb2"),$e=a("0a48"),Be=Object(ge["a"])(Ve,pe,ve,!1,null,null,null),Ae=Be.exports;xe()(Be,{VBtn:Pe["a"],VCard:qe["a"],VCardActions:Te["a"],VDatePicker:Re["a"],VIcon:Ie["a"],VSpacer:Ee["a"],VTab:Me["a"],VTabItem:Le["a"],VTabs:Ne["a"],VTabsItems:De["a"],VTimePicker:$e["a"]});var Fe=Object(r["defineComponent"])({name:"DateTimePeriodMenu",components:{DateTimePeriod:Ae},props:{dateRange:{type:Object,required:!0},periods:{type:Array,required:!0},format:{type:String,default:"short"}},setup:function(){var e=Object(r["ref"])(!1);return{menu:e,datetimeFull:$}}}),Ge=Fe,Xe=a("2301"),Ue=Object(ge["a"])(Ge,le,de,!1,null,"6a16f40c",null),He=Ue.exports;xe()(Ue,{VBtn:Pe["a"],VIcon:Ie["a"],VMenu:Xe["a"]});var Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({staticClass:"px-1",attrs:{text:"",small:""}},n),[e.activePeriod?a("span",[e._v(e._s(e.activePeriod.text))]):a("span",[e._v("Period")]),a("v-icon",[e._v("mdi-menu-down")])],1)]}}])},[a("v-list",{attrs:{dense:""}},[a("v-list-item-group",{attrs:{value:e.value,mandatory:""},on:{change:e.onChange}},e._l(e.periods,(function(t){return a("v-list-item",{key:t.ms,attrs:{value:t.ms}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Last "+e._s(t.text))])],1)],1)})),1)],1)],1)},We=[],Ke=Object(r["defineComponent"])({name:"PeriodPickerMenu",props:{value:{type:Number,required:!0},periods:{type:Array,required:!0}},setup:function(e,t){var a=t.emit,n=Object(r["computed"])((function(){var t=e.periods.find((function(t){return t.ms===e.value}));return t}));function o(e){a("input",e)}return{activePeriod:n,onChange:o}}}),ze=Ke,Je=Object(ge["a"])(ze,Qe,We,!1,null,"c084ad56",null),Ze=Je.exports;function Ye(e){for(var t=[],a=0,n=[1,3,6,12,24];a<n.length;a++){var r=n[a];t.push({text:"".concat(r," ").concat(1===r?"hour":"hours"),ms:r*M})}for(var o=0,s=[3,7,10,14,30];o<s.length;o++){var i=s[o];i<=e&&t.push({text:"".concat(i," days"),ms:i*L})}return t}xe()(Je,{VBtn:Pe["a"],VIcon:Ie["a"],VList:Oe["a"],VListItem:je["a"],VListItemContent:_e["b"],VListItemGroup:Ce["a"],VListItemTitle:_e["c"],VMenu:Xe["a"]});var et=Object(r["defineComponent"])({name:"DateRangePicker",components:{DateTimePeriodMenu:He,PeriodPickerMenu:Ze},props:{dateRange:{type:Object,required:!0},defaultPeriod:{type:Number,default:M}},setup:function(e){var t=Object(r["computed"])((function(){return Ye(30)}));return Object(r["onMounted"])((function(){Object(r["watchEffect"])((function(){if(!e.dateRange.duration){var a=t.value.find((function(t){return t.ms===e.defaultPeriod}));a?e.dateRange.changeDuration(a.ms):e.dateRange.changeDuration(t.value[0].ms)}}))})),{periods:t}}}),tt=et,at=Object(ge["a"])(tt,ue,ce,!1,null,"10a87f18",null),nt=at.exports;xe()(at,{VBtn:Pe["a"],VIcon:Ie["a"]});var rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container--fixed-sm"},[a("PageToolbar",{attrs:{loading:e.loading}},[a("v-toolbar-title",[e._v("Send data to Uptrace")]),a("v-spacer"),e.dateRange?a("DateRangePicker",{attrs:{"date-range":e.dateRange}}):e._e()],1),a("v-container",{staticClass:"mb-6 px-4 py-6"},[a("v-row",[a("v-col",{staticClass:"text-body-1"},[a("p",[e._v(" To start sending data to Uptrace, you need to install Uptrace client and configure it using the provided DSN (connection string). ")]),a("p",[e._v("For Go and .NET use "),a("strong",[e._v("OTLP/gRPC")]),e._v(":")]),a("XCode",{staticClass:"mb-4",attrs:{code:e.grpcDsn}}),a("p",[e._v("For Python, Ruby, and Node.JS use "),a("strong",[e._v("OTLP/HTTP")]),e._v(":")]),a("XCode",{staticClass:"mb-4",attrs:{code:e.httpDsn}}),a("p",[e._v(" See "),a("a",{attrs:{href:"https://docs.uptrace.dev/guide/os.html#otlp",target:"_blank"}},[e._v("documentation")]),e._v(" for instructions for your programming language. ")])],1)],1)],1),a("PageToolbar",{attrs:{loading:e.loading}},[a("v-toolbar-title",[e._v("Already using OpenTelemetry Collector?")])],1),a("v-container",{staticClass:"mb-6 px-4 py-6"},[a("v-row",[a("v-col",{staticClass:"text-body-1"},[e._v(" Uptrace natively supports OpenTelemetry Protocol (OTLP) in case you are already using OpenTelemetry Collector. Use the following OTLP exporter "),a("a",{attrs:{href:"https://opentelemetry.uptrace.dev/guide/collector.html#configuration",target:"_blank"}},[e._v("config")]),e._v(": ")])],1),a("v-row",[a("v-col",[a("CollectorTabs",{attrs:{"http-endpoint":e.httpEndpoint,"grpc-endpoint":e.grpcEndpoint,"http-dsn":e.httpDsn,"grpc-dsn":e.grpcDsn}})],1)],1)],1),a("HelpLinks")],1)},ot=[],st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:""}},[a("v-tabs",{model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[a("v-tab",{attrs:{href:"#grpc"}},[e._v("GRPC")]),a("v-tab",{attrs:{href:"#http"}},[e._v("HTTP")])],1),a("v-tabs-items",{model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[a("v-tab-item",{attrs:{value:"grpc"}},[a("XCode",{attrs:{language:"yaml",code:e.otlpGrpc}})],1),a("v-tab-item",{attrs:{value:"http"}},[a("XCode",{attrs:{language:"yaml",code:e.otlpHttp}})],1)],1)],1)},it=[],ut=(a("cbf9"),Object(r["defineComponent"])({name:"CollectorTabs",props:{grpcEndpoint:{type:String,default:""},httpEndpoint:{type:String,default:""},grpcDsn:{type:String,default:""},httpDsn:{type:String,default:""}},setup:function(e){var t=Object(r["ref"])(),a=Object(r["computed"])((function(){return ct(lt,e.grpcEndpoint,e.grpcDsn)})),n=Object(r["computed"])((function(){return ct(dt,e.httpEndpoint,e.httpDsn)}));return{tabs:t,otlpGrpc:a,otlpHttp:n}}}));function ct(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return e.replace(/{(\d+)}/g,(function(e,t){return"undefined"!==typeof a[t]?a[t]:e}))}var lt="\nexporters:\n  otlp:\n    endpoint: {0}\n    tls:\n      insecure: true\n    headers:\n      uptrace-dsn: '{1}'\n".trim(),dt="\nexporters:\n  otlphttp:\n    endpoint: {0}\n    tls:\n      insecure: true\n    headers:\n      uptrace-dsn: '{1}'\n".trim(),pt=ut,vt=Object(ge["a"])(pt,st,it,!1,null,"09cca6f7",null),mt=vt.exports;xe()(vt,{VCard:qe["a"],VTab:Me["a"],VTabItem:Le["a"],VTabs:Ne["a"],VTabsItems:De["a"]});var ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("PageToolbar",[a("v-toolbar-title",[e._v("See also")])],1),a("v-container",{staticClass:"mb-6"},[a("v-card",{attrs:{flat:""}},[a("v-card-text",{staticClass:"text-subtitle-1"},[a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/uptrace/uptrace/releases/latest",target:"_blank"}},[e._v("Latest release")])]),a("li",[a("a",{attrs:{href:"https://docs.uptrace.dev/",target:"_blank"}},[e._v("Uptrace documentation")])]),a("li",[a("a",{attrs:{href:"https://opentelemetry.uptrace.dev/",target:"_blank"}},[e._v("OpenTelemetry documentation")])]),a("li",[a("a",{attrs:{href:"https://opentelemetry.uptrace.dev/instrumentations/",target:"_blank"}},[e._v("Instrumentations")])]),a("li",[a("a",{attrs:{href:"https://opentelemetry.uptrace.dev/collector/",target:"_blank"}},[e._v("Collector Configurator")])]),a("li",[a("a",{attrs:{href:"https://opentelemetry.uptrace.dev/attributes/",target:"_blank"}},[e._v("Semantic attributes")])]),a("li",[a("a",{attrs:{href:"https://github.com/uptrace",target:"_blank"}},[e._v("GitHub")])])])])],1)],1)],1)},bt=[],ht=Object(r["defineComponent"])({name:"HelpLinks"}),gt=ht,yt=a("8d20"),xt=a("59c3"),Ot=Object(ge["a"])(gt,ft,bt,!1,null,null,null),jt=Ot.exports;xe()(Ot,{VCard:qe["a"],VCardText:Te["b"],VContainer:yt["a"],VToolbarTitle:xt["b"]});var _t=Object(r["defineComponent"])({name:"HelpCard",components:{DateRangePicker:nt,CollectorTabs:mt,HelpLinks:jt},props:{loading:{type:Boolean,default:!1},dateRange:{type:Object,default:void 0}},setup:function(){var e=l(),t=e.route,a=re((function(){var e=t.value.params.projectId;return{url:"/api/tracing/".concat(e,"/conn-info")}})),n=a.data,o=Object(r["computed"])((function(){var e,t,a;return null!==(e=null===(t=n.value)||void 0===t||null===(a=t.grpc)||void 0===a?void 0:a.endpoint)&&void 0!==e?e:"http://localhost:14317"})),s=Object(r["computed"])((function(){var e,t,a;return null!==(e=null===(t=n.value)||void 0===t||null===(a=t.http)||void 0===a?void 0:a.endpoint)&&void 0!==e?e:"http://localhost:14318"})),i=Object(r["computed"])((function(){var e,t,a;return null!==(e=null===(t=n.value)||void 0===t||null===(a=t.grpc)||void 0===a?void 0:a.dsn)&&void 0!==e?e:"http://localhost:14317"})),u=Object(r["computed"])((function(){var e,t,a;return null!==(e=null===(t=n.value)||void 0===t||null===(a=t.http)||void 0===a?void 0:a.dsn)&&void 0!==e?e:"http://localhost:14318"}));return{grpcEndpoint:o,httpEndpoint:s,grpcDsn:i,httpDsn:u}}}),Ct=_t,wt=a("723b"),kt=a("35d0"),St=Object(ge["a"])(Ct,rt,ot,!1,null,"3d6ecfef",null),Vt=St.exports;xe()(St,{VCol:wt["a"],VContainer:yt["a"],VRow:kt["a"],VSpacer:Ee["a"],VToolbarTitle:xt["b"]});var Pt,qt,Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{staticClass:"metrics",attrs:{justify:"center"}},[e.showAll?a("v-col",[a("SystemQuickMetricCard",{attrs:{metric:e.metrics.all},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.metric;return[a("XNum",{attrs:{value:n.countPerMin,unit:e.Unit.Rate,title:"{0} request per minute"}})]}}],null,!1,3804850338)})],1):e._e(),e.metrics.http.countPerMin?a("v-col",[a("SystemQuickMetricCard",{attrs:{metric:e.metrics.http},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.metric;return[a("XNum",{attrs:{value:n.countPerMin,unit:e.Unit.Rate,title:"{0} request per minute"}})]}}],null,!1,3804850338)})],1):e._e(),e.metrics.rpc.countPerMin?a("v-col",[a("SystemQuickMetricCard",{attrs:{metric:e.metrics.rpc},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.metric;return[a("XNum",{attrs:{value:n.countPerMin,unit:e.Unit.Rate,title:"{0} request per minute"}})]}}],null,!1,3804850338)})],1):e._e(),e.metrics.db.countPerMin?a("v-col",[a("SystemQuickMetricCard",{attrs:{metric:e.metrics.db},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.metric;return[a("XNum",{attrs:{value:n.countPerMin,unit:e.Unit.Rate,title:"{0} query per minute"}})]}}],null,!1,2838177657)})],1):e._e(),e.metrics.inMemDb.countPerMin?a("v-col",[a("SystemQuickMetricCard",{attrs:{metric:e.metrics.inMemDb},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.metric;return[a("XNum",{attrs:{value:n.countPerMin,unit:e.Unit.Rate,title:"{0} op per minute"}})]}}],null,!1,1735170156)})],1):e._e(),a("v-col",[a("SystemQuickMetricCard",{attrs:{metric:e.metrics.failures},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.metric;return[e._v(" "+e._s((a.errorCount/a.count*100).toFixed(2))+"% ")]}}])})],1)],1)],1)},Rt=[],It=a("41a8"),Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"border-bottom",attrs:{outlined:"",rounded:"lg"}},[a("v-row",{staticClass:"no-gutters"},[a("v-col",{staticClass:"px-3 py-4"},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("div",e._g(e._b({staticClass:"body-2 text-truncate text-uppercase blue-grey--text text--lighten-2"},"div",r,!1),n),[e._v(" "+e._s(e.metric.name)+" ")])]}}])},[a("span",[e._v(e._s(e.metric.tooltip))])]),a("div",{staticClass:"pt-4 text-h5 text-truncate"},[e._t("default",null,{metric:e.metric}),e.metric.suffix?a("span",{staticClass:"ml-2 text-subtitle-1 blue-grey--text text--lighten-3"},[e._v(e._s(e.metric.suffix))]):e._e()],2)],1)],1)],1)},Mt=[],Lt=Object(r["defineComponent"])({name:"SystemMetricCard",props:{metric:{type:Object,required:!0}}}),Nt=Lt,Dt=(a("13cd"),a("602f")),$t=Object(ge["a"])(Nt,Et,Mt,!1,null,"28b82bd9",null),Bt=$t.exports;function At(e){var t=Xt(e),a=Object(j["a"])(t,2),n=a[0],r=a[1];return n===Pt.allSystem||r===Pt.allSystem}function Ft(e){return!!e&&(Gt(e)||e===qt.event||e.startsWith(qt.logPrefix)||e.startsWith(qt.messagePrefix))}function Gt(e){if(!e)return!1;switch(e){case qt.error:case qt.exception:case qt.logError:case qt.logFatal:case qt.logPanic:return!0;default:return!1}}function Xt(e){if(!e)return["",""];var t=e.indexOf(":");return t>=0?e.slice(t+1)===Pt.allSystem?[e.slice(0,t),Pt.allSystem]:[e.slice(0,t),e]:[e,e]}xe()($t,{VCard:qe["a"],VCol:wt["a"],VRow:kt["a"],VTooltip:Dt["a"]}),function(e){e["allSystem"]="all",e["internalSystem"]="internal",e["itemId"]="item.id",e["itemName"]="item.name",e["spanEvents"]="span.events",e["spanId"]="span.id",e["spanParentId"]="span.parent_id",e["spanTraceId"]="span.trace_id",e["spanSystem"]="span.system",e["spanGroupId"]="span.group_id",e["spanName"]="span.name",e["spanEventName"]="span.event_name",e["spanIsEvent"]="span.is_event",e["spanKind"]="span.kind",e["spanTime"]="span.time",e["spanDuration"]="span.duration",e["spanStatusCode"]="span.status_code",e["spanStatusMessage"]="span.status_message",e["spanCount"]="span.count",e["spanCountPerMin"]="span.count_per_min",e["spanErrorCount"]="span.error_count",e["spanErrorPct"]="span.error_pct",e["serviceName"]="service.name",e["hostName"]="host.name",e["enduserId"]="enduser.id",e["httpMethod"]="http.method",e["httpStatusCode"]="http.status_code",e["rpcMethod"]="rpc.method",e["dbStatement"]="db.statement",e["dbStatementPretty"]="_db.statement_pretty",e["dbOperation"]="db.operation",e["dbSqlTable"]="db.sql.table",e["dbSqlTables"]="db.sql.tables",e["exceptionType"]="exception.type",e["exceptionMessage"]="exception.message",e["exceptionStacktrace"]="exception.stacktrace",e["logSeverity"]="log.severity",e["logMessage"]="log.message",e["codeFunction"]="code.function",e["codeFilepath"]="code.filepath"}(Pt||(Pt={})),function(e){e["all"]="all",e["internal"]="internal",e["error"]="error",e["exception"]="exception",e["logWarn"]="log:warn",e["logError"]="log:error",e["logFatal"]="log:fatal",e["logPanic"]="log:panic",e["event"]="event",e["logPrefix"]="log:",e["messagePrefix"]="message:"}(qt||(qt={}));var Ut;a("2bd3");function Ht(e,t){var a="number"===typeof t;if(!a&&void 0!==t)return Ut.None;switch(e){case"count":case"rate":return Ut.None;case"errorPct":return Ut.Percents;case"p50":case"p90":case"p99":return Ut.Nanoseconds}var n="",r=e.match(/(\S+)\((\S+)\)/);return n=r?r[2]:e,Qt(n)?Ut.Nanoseconds:Wt(n)?Ut.Bytes:Kt(n)?Ut.Percents:Ut.None}function Qt(e){return e===Pt.spanDuration||zt(e,"duration")}function Wt(e){return zt(e,"bytes")}function Kt(e){return e===Pt.spanErrorPct||zt(e,"pct")}function zt(e,t){return e.endsWith("."+t)||e.endsWith("_"+t)}(function(e){e["None"]="",e["Bytes"]="bytes",e["Nanoseconds"]="nanoseconds",e["Percents"]="percents"})(Ut||(Ut={}));var Jt=a("8168"),Zt=a.n(Jt);function Yt(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ea(e,t,Object(x["a"])({trimMantissa:!0},a))}function ea(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"undefined"===typeof e?"0":Zt()(e).format(Object(x["a"])({mantissa:t},a))}function ta(e){return"number"!==typeof e||0===e?"0":Math.abs(e)<1?Yt(e,3):Math.abs(e)<1e3?Yt(e,1):(e/=1e3,Math.abs(e)<100?ea(e,1)+"k":Math.abs(e)<1e3?ea(e,0)+"k":(e/=1e3,Math.abs(e)<1e3?ea(e,1)+"m":(e/=1e3,ea(e,1)+"b")))}function aa(e){return"number"!==typeof e||Math.abs(e)<1e-4?"0%":Zt()(e).format({output:"percent",mantissa:na(e),optionalMantissa:!0})}function na(e){return e=Math.abs(e),e<.01?2:e<.1?1:0}function ra(e){if("number"!==typeof e||0===e)return"0";if(Math.abs(e)<10)return Yt(e,2);if(Math.abs(e)<1024)return Yt(e,1);for(var t=0,a=["KB","MB","GB","TB","PB"];t<a.length;t++){var n=a[t];if(e/=1024,Math.abs(e)<10)return Yt(e,1)+n;if(e=Math.round(e),Math.abs(e)<1e3)return Yt(e,0)+n}return Yt(e,0)+"PB"}function oa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"!==typeof e||0===e?"0":Math.abs(e)<1e3?ea(e,0,t)+"ns":(e/=1e3,Math.abs(e)<100?ea(e,1,t)+"µs":Math.abs(e)<1e3?ea(e,0,t)+"µs":(e/=1e3,Math.abs(e)<100?ea(e,1,t)+"ms":Math.abs(e)<1e4?ea(e,0,t)+"ms":(e/=1e3,Math.abs(e)<100?ea(e,1,t)+"s":(e/=60,Math.abs(e)<10?ea(e,1,t)+"m":Math.abs(e)<100?ea(e,0,t)+"m":(e/=60,Math.abs(e)<10?ea(e,1,t)+"h":ea(e,0,t)+"h")))))}function sa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"!==typeof e||0===e?"0":Math.abs(e)<1e3?Yt(e,0,t)+"ns":(e/=1e3,Math.abs(e)<1e3?Yt(e,0,t)+"µs":(e/=1e3,Math.abs(e)<10?Yt(e,1,t)+"ms":Math.abs(e)<1e3?Yt(e,0,t)+"ms":(e/=1e3,Math.abs(e)<100?Yt(e,1,t)+"s":(e/=60,Math.abs(e)<100?Yt(e,1,t)+"m":Math.abs(e)<100?ea(e,0,t)+"m":(e/=60,Math.abs(e)<10?ea(e,1,t)+"h":ea(e,0,t)+"h")))))}function ia(e){switch(e){case Ut.Percents:return aa;case Ut.Nanoseconds:return sa;case Ut.Bytes:return ra;default:return ua}}function ua(e){return void 0===e?"<missing>":""===e?"<empty>":"number"===typeof e?ta(e):String(e)}var ca=Object(r["defineComponent"])({name:"SystemQuickMetrics",components:{SystemQuickMetricCard:Bt},props:{systems:{type:Array,required:!0}},setup:function(e){var t=Object(r["computed"])((function(){var t,a={all:{name:"All",tooltip:"Total number of spans per minute",color:It["a"].teal.base,countPerMin:0,suffix:"span/min"},http:{name:"HTTP",tooltip:"Number of HTTP requests per minute",color:It["a"].blue.base,countPerMin:0,suffix:"req/min"},rpc:{name:"RPC",tooltip:"Number of RPC requests per minute",color:It["a"].orange.base,countPerMin:0,suffix:"req/min"},db:{name:"Database",tooltip:"Number of database queries per minute",color:It["a"].purple.base,countPerMin:0,suffix:"op/min"},inMemDb:{name:"In-memory DB",tooltip:"Number of in-memory database commands per minute",color:It["a"].indigo.base,countPerMin:0,suffix:"op/min"},failures:{name:"Failures",tooltip:"Number of spans with ".concat(Pt.spanStatusCode,' = "error" divided by total number of spans'),color:It["a"].red.base,count:0,errorCount:0}},n=Object(i["a"])(e.systems);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.dummy||(a.all.countPerMin+=r.countPerMin,Ft(r.system)||(a.failures.count+=r.count,a.failures.errorCount+=r.errorCount),r.system.startsWith("http:")?a.http.countPerMin+=r.countPerMin:r.system.startsWith("rpc:")?a.rpc.countPerMin+=r.countPerMin:da(r.system)?a.inMemDb.countPerMin+=r.countPerMin:la(r.system)&&(a.db.countPerMin+=r.countPerMin))}}catch(o){n.e(o)}finally{n.f()}return a})),a=Object(r["computed"])((function(){return 0===t.value.http.countPerMin&&0===t.value.rpc.countPerMin}));return{Unit:Ut,metrics:t,showAll:a}}});function la(e){return e.startsWith("db:")}function da(e){switch(e){case"db:redis":case"db:memcache":return!0}return!1}var pa=ca,va=(a("7a89"),Object(ge["a"])(pa,Tt,Rt,!1,null,"09fcbf10",null)),ma=va.exports;xe()(va,{VCol:wt["a"],VRow:kt["a"]});var fa=Object(r["defineComponent"])({name:"Overview",components:{DateRangePicker:nt,HelpCard:Vt,SystemQuickMetrics:ma},setup:function(){Object(y["useTitle"])("Overview");var e=Q();e.syncQuery();var t=oe(e);return{dateRange:e,systems:t}}}),ba=fa,ha=(a("0ae5"),Object(ge["a"])(ba,h,g,!1,null,"5155cbb4",null)),ga=ha.exports;xe()(ha,{VCol:wt["a"],VContainer:yt["a"],VRow:kt["a"],VSpacer:Ee["a"],VTab:Me["a"],VTabs:Ne["a"]});var ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("XPlaceholder",[a("v-card",{staticClass:"mb-4",attrs:{outlined:"",rounded:"lg"}},[a("v-toolbar",{attrs:{flat:"",color:"light-blue lighten-5"}},[a("v-toolbar-title",[e._v("Systems")]),a("v-spacer"),a("v-btn",{staticClass:"primary",attrs:{to:e.exploreRoute,small:""}},[e._v("Open explorer")])],1),a("v-card-text",{staticClass:"pb-0"},[e.systems.types.length>=3?a("v-slide-group",{staticClass:"ml-2",attrs:{"center-active":"","show-arrows":"",multiple:""},model:{value:e.systems.filters,callback:function(t){e.$set(e.systems,"filters",t)},expression:"systems.filters"}},e._l(e.systems.types,(function(t,n){return a("v-slide-item",{key:t.type,attrs:{value:t.type},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.active,s=r.toggle;return[a("v-btn",{class:{"ml-1":n>0},attrs:{"input-value":o,"active-class":"blue white--text",small:"",depressed:"",rounded:""},on:{click:s}},[e._v(" "+e._s(t.type)+" ("+e._s(t.numSystem)+") ")])]}}],null,!0)})})),1):e._e()],1),a("v-card-text",[a("OverviewTable",{attrs:{"date-range":e.dateRange,loading:e.systems.loading,items:e.systems.pageSystems,order:e.systems.order}})],1)],1),a("XPagination",{attrs:{pager:e.systems.pager}})],1)},xa=[],Oa=a("c0ac"),ja=a("b361");a("3856"),a("bd32"),a("a9bc"),a("4c82"),a("2dc3");function _a(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}function Ca(e){if("string"!==typeof e)return JSON.stringify(e);if(!e.length)return'""';if("'"===e[0]&&"'"===e[e.length-1])return e;if('"'===e[0]&&'"'===e[e.length-1])return e;var t=parseFloat(e);return isNaN(t)||t.toString()!==e?JSON.stringify(e):t}var wa=" | ",ka=/^where\s+span\.group_id\s+=\s+(\S+)$/i;function Sa(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=null!==(e=t.paramName)&&void 0!==e?e:"query",n=l(),o=n.router,s=n.route,i=Object(r["shallowRef"])(!1),u=Object(r["shallowRef"])([]),c=Object(r["computed"])({set:function(e){u.value=Va(e).map((function(e){return Object(r["reactive"])(e)}))},get:function(){return qa(u.value)}});function p(e){u.value.push(Object(r["reactive"])(e)),u.value=u.value}function v(e){u.value.splice(e,1),u.value=u.value}function m(){u.value=u.value.filter((function(e){return e.query.length>0}))}function f(e){u.value.forEach((function(t,a){var n,r,o=e[a];o&&(t.query=o.query,t.error=null!==(n=o.error)&&void 0!==n?n:"",t.disabled=null!==(r=o.disabled)&&void 0!==r&&r)}))}function b(){return{query:c.value}}function h(){return new Ta(c.value)}function g(e){t.syncQuery?o.push({query:Object(x["a"])(Object(x["a"])({},s.value.query),{},Object(O["a"])({},a,e.toString()))}).catch((function(){})):c.value=e.toString()}return"string"===typeof t.query?c.value=t.query:t.query&&Object(r["watch"])(t.query,(function(e){c.value=e}),{immediate:!0}),t.syncQuery&&d().sync({fromQuery:function(e){var n,r,o=null!==(n=null!==(r=e[a])&&void 0!==r?r:t.query)&&void 0!==n?n:"";e.where&&(o+=wa+"where "+e.where),c.value=o},toQuery:function(){return Object(O["a"])({},a,c.value)}}),Object(r["proxyRefs"])({rawMode:i,query:c,parts:u,addPart:p,removePart:v,cleanup:m,syncParts:f,axiosParams:b,createEditor:h,commitEdits:g})}function Va(e){return"string"===typeof e&&e?e.split(wa).map((function(e){return e.trim()})).filter((function(e){return e.length})).map((function(e){return Pa(e)})):[]}function Pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{query:e,error:"",disabled:!1}}function qa(e){return e.filter((function(e){return e.query.length>0})).map((function(e){return e.query})).join(wa)}var Ta=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(Oa["a"])(this,e),Object(O["a"])(this,"parts",void 0),this.parts=Va(t)}return Object(ja["a"])(e,[{key:"toString",value:function(){return qa(this.parts)}},{key:"reset",value:function(){return this.parts=[],this.add(Ra(Pt.spanGroupId)),this}},{key:"add",value:function(e){var t,a=this,n=Object(i["a"])(Va(e));try{var r=function(){var e=t.value,n=a.parts.findIndex((function(t){return t.query===e.query}));-1===n&&a.parts.push(e)};for(n.s();!(t=n.n()).done;)r()}catch(o){n.e(o)}finally{n.f()}return this}},{key:"where",value:function(e,t,a){return void 0===a?this.replaceOrPush(new RegExp("^where\\s+".concat(_a(e),"\\s+").concat(t,"$"),"i"),"where ".concat(e," ").concat(t)):this.replaceOrPush(new RegExp("^where\\s+".concat(_a(e),"\\s+").concat(t,"\\s+.+$"),"i"),"where ".concat(e," ").concat(t," ").concat(Ca(a)))}},{key:"replace",value:function(e,t){var a=this.parts.find((function(t){return e.test(t.query)}));return!!a&&(a.query=t,!0)}},{key:"replaceOrPush",value:function(e,t){return this.replace(e,t)||this.parts.push(Pa(t)),this}},{key:"replaceOrUnshift",value:function(e,t){return this.replace(e,t)||this.parts.unshift(Pa(t)),this}},{key:"remove",value:function(e){var t;t="string"===typeof e?this.parts.findIndex((function(t){return t.query===e})):this.parts.findIndex((function(t){return e.test(t.query)})),t>=0&&this.parts.splice(t,1)}},{key:"groupId",value:function(){var e,t=Object(i["a"])(this.parts);try{for(t.s();!(e=t.n()).done;){var a=e.value,n=a.query.match(ka);if(n)return n[1]}}catch(r){t.e(r)}finally{t.f()}return""}},{key:"removeGroupFilter",value:function(){return this.remove(ka),this}},{key:"replaceGroupBy",value:function(e){return this.replaceOrUnshift(/^group\s+by\s+/i,"group by ".concat(e))}}]),e}();function Ra(e){var t=["group by ".concat(e),Pt.spanCountPerMin,Pt.spanErrorPct,"{p50,p90,p99}(".concat(Pt.spanDuration,")")];return t.join(wa)}function Ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{perPage:10},t=Object(r["shallowRef"])(0),a=Object(r["shallowRef"])(1),n=Object(r["shallowRef"])(e.perPage),o=Object(r["computed"])((function(){var e=(a.value-1)*n.value,r=e+n.value;return r>t.value&&(r=t.value),{start:e,end:r}})),s=Object(r["computed"])((function(){var e=1e3,a=Math.ceil(t.value/n.value);return a>e?e:a})),i=Object(r["computed"])((function(){return a.value>1}));function u(){i.value&&a.value--}var c=Object(r["computed"])((function(){return a.value<s.value}));function l(){c.value&&a.value++}function d(){a.value=1}function p(){return{page:a.value,limit:n.value}}return Object(r["watch"])(s,(function(e){a.value>e&&(a.value=1)})),Object(r["proxyRefs"])({numItem:t,page:a,perPage:n,pos:o,numPage:s,hasPrev:i,prev:u,hasNext:c,next:l,reset:d,axiosParams:p})}function Ea(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.column=null!==(e=a.column)&&void 0!==e?e:"",a.desc=null===(t=a.desc)||void 0===t||t;var n=Object(r["shallowRef"])(a.column),o=Object(r["shallowRef"])(a.desc),s=Object(r["shallowRef"])({}),i=Object(r["computed"])((function(){return o.value?"mdi-arrow-down":"mdi-arrow-up"}));function u(e){n.value=e.column,o.value=e.desc}function c(e){n.value!==e?(n.value=e,o.value=!0):o.value=!o.value}function l(e){var t=["cursor-pointer"];return n.value===e&&t.push("active"),o.value?t.push("desc"):t.push("asc"),t}function d(){n.value="",o.value=!0}return Object(r["watch"])((function(){return{sort_by:n.value,sort_dir:Ma(o.value)}}),(function(e){s.value=e}),{immediate:!0,flush:"sync"}),Object(r["proxyRefs"])({column:n,desc:o,icon:i,axiosParams:s,change:u,reset:d,toggle:c,thClass:l})}function Ma(e){return e?"desc":"asc"}function La(e){var t=l(),a=t.route,n=Ia({perPage:15}),o=Ea({column:"system",desc:!1}),s=Object(r["ref"])([]),c=re((function(){var t=a.value.params.projectId;return{url:"/api/tracing/".concat(t,"/systems-stats"),params:Object(x["a"])({},e.axiosParams())}})),d=c.loading,p=c.data,v=Object(r["computed"])((function(){var e,t,a=null!==(e=null===(t=p.value)||void 0===t?void 0:t.systems)&&void 0!==e?e:[];return a})),m=Object(r["computed"])((function(){var e,t=Object(u["orderBy"])(v.value,null!==(e=o.column)&&void 0!==e?e:"system",o.desc?"desc":"asc");return t})),f=Object(r["computed"])((function(){return s.value.length?m.value.filter((function(e){var t,a=Object(i["a"])(s.value);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(e.system.startsWith(n))return!0}}catch(r){a.e(r)}finally{a.f()}return!1})):m.value})),b=Object(r["computed"])((function(){var e=f.value.slice(n.pos.start,n.pos.end);return e})),h=Object(r["computed"])((function(){var e,t={},a=Object(i["a"])(v.value);try{for(a.s();!(e=a.n()).done;){var n=e.value,r=Xt(n.system),o=Object(j["a"])(r,1),s=o[0],c=t[s];c||(c={type:s,numSystem:0},t[s]=c),c.numSystem++}}catch(p){a.e(p)}finally{a.f()}var l=[];for(var d in t)l.push(t[d]);return Object(u["orderBy"])(l,"type"),l}));return Object(r["watch"])(f,(function(e){n.numItem=e.length}),{flush:"sync"}),Object(r["proxyRefs"])({pager:n,order:o,filters:s,loading:d,list:f,pageSystems:b,types:h})}var Na,Da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-simple-table",{staticClass:"v-data-table--large"},[a("thead",{staticClass:"v-data-table-header"},[a("tr",[e.column?a("ThOrder",{attrs:{value:e.column,order:e.order}},[e._v(e._s(e.column))]):e._e(),a("ThOrder",{attrs:{value:"system",order:e.order}},[e._v("System")]),a("ThOrder",{attrs:{value:"rate",order:e.order,align:"center"}},[e._v("Spans per minute")]),a("ThOrder",{attrs:{value:"errorPct",order:e.order,align:"center"}},[e._v("Errors")]),a("ThOrder",{attrs:{value:"p50",order:e.order,align:"center"}},[e._v("P50 latency")]),a("ThOrder",{attrs:{value:"p99",order:e.order,align:"center"}},[e._v("P99 latency")])],1)]),a("thead",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[a("tr",{staticClass:"v-data-table__progress"},[a("th",{staticClass:"column",attrs:{colspan:"99"}},[a("v-progress-linear",{attrs:{height:"2",absolute:"",indeterminate:""}})],1)])]),e.items.length?e._e():a("tbody",[a("tr",{staticClass:"v-data-table__empty-wrapper"},[a("td",{attrs:{colspan:"99"}},[e._v("There are no data for the selected date range.")])])]),a("tbody",e._l(e.items,(function(t,n){return a("tr",{key:n},[e.column?a("td",{staticClass:"text-subtitle-1"},[a("router-link",{attrs:{to:e.columnRoute(t[e.column])},nativeOn:{click:function(e){e.stopPropagation()}}},[e._v(" "+e._s(t[e.column])+" ")])],1):e._e(),a("td",{staticClass:"text-subtitle-1"},[a("router-link",{attrs:{to:e.groupListRoute(t.system)},nativeOn:{click:function(e){e.stopPropagation()}}},[e._v(" "+e._s(t.system)+" ")])],1),a("td",{staticClass:"text-subtitle-2"},[a("div",{staticClass:"d-flex align-center"},[a("SparklineChart",{staticClass:"mr-2",attrs:{name:"rate",line:t.stats.rate,time:t.stats.time}}),a("XNum",{attrs:{value:t.rate}})],1)]),a("td",{staticClass:"text-subtitle-2"},[t.stats.errorCount?a("div",{staticClass:"d-flex align-center"},[a("SparklineChart",{staticClass:"mr-2",attrs:{name:"errorPct",line:t.stats.errorPct,time:t.stats.time}}),e._v(" "+e._s(e.percent(t.errorPct))+" ")],1):e._e()]),a("td",{staticClass:"text-subtitle-2"},[t.stats.p50?a("div",{staticClass:"d-flex align-center"},[a("SparklineChart",{staticClass:"mr-2",attrs:{name:"p50",line:t.stats.p50,time:t.stats.time}}),a("XDuration",{attrs:{duration:t.p50}})],1):e._e()]),a("td",{staticClass:"text-subtitle-2"},[t.stats.p99?a("div",{staticClass:"d-flex align-center"},[a("SparklineChart",{staticClass:"mr-2",attrs:{name:"p99",line:t.stats.p99,time:t.stats.time}}),a("XDuration",{attrs:{duration:t.p99}})],1):e._e()])])})),0)])],1)},$a=[];a("bf1c");(function(e){e["Start"]="start",e["End"]="end",e["Center"]="center"})(Na||(Na={}));var Ba,Aa,Fa=n["default"].component("ThSort",{functional:!0,props:{value:{type:String,default:""},order:{type:Object,required:!0},align:{type:String,default:"start"}},render:function(e,t){var a,n=t.props,r=t.data,o=t.slots,s=[e("span",o().default)],i=e(Ie["a"],{props:{size:18},class:"v-data-table-header__icon"},"mdi-arrow-up");switch(n.align){case Na.Start:a="text-left",s.push(i);break;case Na.End:a="text-right",s.unshift(i);break;case Na.Center:a="text-center",s.push(i);break;default:throw new Error("unknown ".concat(n.align))}return e("th",Object(x["a"])(Object(x["a"])({},r),{},{class:["text-no-wrap",a,n.order.thClass(n.value)],on:{click:function(){n.order.toggle(n.value)}}}),s)}}),Ga=Fa,Xa=Object(ge["a"])(Ga,Ba,Aa,!1,null,"6e0f5777",null),Ua=Xa.exports,Ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("EChart",{attrs:{width:e.chart.width,height:e.chart.height,option:e.chart.option}})},Qa=[],Wa=(a("9814"),a("ebd4")),Ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"container"},[a("v-sheet",{staticClass:"mx-auto echart",attrs:{width:e.width,height:e.height}})],1)},za=[],Ja=(a("4ace"),a("8594"),Object(r["defineComponent"])({name:"EChart",props:{loading:{type:Boolean,default:!1},value:{type:Object,default:void 0},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],required:!0},option:{type:Object,default:void 0},group:{type:[String,Symbol],default:void 0}},setup:function(e,t){var a,n=Object(r["shallowRef"])();function o(){if(!a){var r=n.value.getElementsByClassName("echart")[0];a=Wa["b"](r),t.emit("input",a),e.group&&Ya(e.group,a)}}var s=Object(u["debounce"])((function(e){a.isDisposed()||a.setOption(e,{notMerge:!0,lazyUpdate:!0,silent:!0})}),50);return Object(r["onMounted"])((function(){Object(r["watch"])((function(){return e.option}),(function(e){e&&(o(),s(e))}),{immediate:!0}),Object(r["watch"])((function(){return e.loading}),(function(e){o(),e?a.showLoading():a.hideLoading()}),{immediate:!0})})),Object(r["onUnmounted"])((function(){a&&(e.group&&en(e.group,a),a.dispose())})),{container:n}}})),Za={};function Ya(e,t){var a=Za[e];a||(a=[],Za[e]=a),a.push(t),tn(t,a)}function en(e,t){var a=Za[e];if(a){var n=a.indexOf(t);n>=0&&a.splice(n,1)}}function tn(e,t){e.on("updateAxisPointer",(function(a){for(var n=e.makeActionFromEvent(a),r=n.axesInfo||[],o=r.length-1;o>=0;o--)"y"===r[o].axisDim&&r.splice(o,1);var s,u=Object(i["a"])(t);try{for(u.s();!(s=u.n()).done;){var c=s.value;c!==e&&(delete n.axesInfo,c.dispatchAction(n,!0))}}catch(l){u.e(l)}finally{u.f()}}))}var an=Ja,nn=(a("735d"),a("ea36")),rn=Object(ge["a"])(an,Ka,za,!1,null,null,null),on=rn.exports;function sn(){return{animation:!1,textStyle:{fontFamily:'"Roboto", sans-serif'},toolbox:{show:!1},dataZoom:[{type:"inside",disabled:!0}],legend:[],grid:[],xAxis:[],yAxis:[],dataset:[],series:[],tooltip:[]}}function un(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.tooltip.push(Object(x["a"])({trigger:"axis",appendToBody:!0,axisPointer:{type:"cross",link:[{xAxisIndex:"all"}]}},t))}function cn(e){return function(t){var a,n=[],r=Object(i["a"])(t);try{for(r.s();!(a=r.n()).done;){var o=a.value,s=Object(u["truncate"])(o.seriesName,{length:60}),c=o.value[o.encode.y[0]];if(n.push("<tr>"+"<td>".concat(o.marker,"</td>")+"<td>".concat(s,"</td>")+"<td>".concat(e(c),"</td>")+"</tr>"),20===n.length)break}}catch(d){r.e(d)}finally{r.f()}var l=['<div class="chart-tooltip">',"<table>","<tbody>",n.join(""),"</tbody>","</table>","</div"];return l.join("")}}xe()(rn,{VSheet:nn["a"]});var ln=Object(r["defineComponent"])({name:"SparklineChart",components:{EChart:on},props:{name:{type:String,required:!0},line:{type:Array,required:!0},time:{type:Array,required:!0}},setup:function(e){var t=Object(r["computed"])((function(){var t={width:100,height:30},a=sn();return un(a,{axisPointer:void 0,formatter:cn(ia(Ht(e.name)))}),a.grid.push({show:!0,top:2,left:2,right:2,height:27,borderWidth:0}),a.xAxis.push({type:"time",show:!0,axisLine:{lineStyle:{color:It["a"].grey.lighten2}},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}}),a.yAxis.push({type:"value",show:!1}),dn(a,e.name,e.line,e.time),t.option=a,t}));return{chart:t}}});function dn(e,t,a,n){e.dataset.push({source:Object(O["a"])({time:n},t,a)});var r=It["a"].blue.base;e.series.push({type:"line",name:t,encode:{x:"time",y:t},showSymbol:!1,lineStyle:{width:1},itemStyle:{color:r},areaStyle:{color:new Wa["a"].LinearGradient(0,0,0,1,[{offset:0,color:r},{offset:1,color:"#ffe"}])}})}var pn=ln,vn=Object(ge["a"])(pn,Ha,Qa,!1,null,"e8f6d994",null),mn=vn.exports,fn=Object(r["defineComponent"])({name:"OverviewTable",components:{ThOrder:Ua,SparklineChart:mn},props:{dateRange:{type:Object,required:!0},loading:{type:Boolean,required:!0},items:{type:Array,default:function(){return[]}},order:{type:Object,required:!0},column:{type:String,default:""},attribute:{type:String,default:""},baseColumnRoute:{type:Object,default:void 0}},setup:function(e){function t(t){var a;a=""===t?"".concat(e.attribute," does not exist"):"".concat(e.attribute," = ").concat(Ca(t));var n=Object(x["a"])({},e.baseColumnRoute);return n.query=Object(x["a"])(Object(x["a"])({},n.query),{},{where:a}),n}function a(t){return{name:"GroupList",query:Object(x["a"])(Object(x["a"])({},e.dateRange.queryParams()),{},{system:t})}}return{xkey:Pt,columnRoute:t,groupListRoute:a,percent:aa}}}),bn=fn,hn=(a("c05d"),a("8dd1")),gn=a("0167"),yn=Object(ge["a"])(bn,Da,$a,!1,null,null,null),xn=yn.exports;xe()(yn,{VProgressLinear:hn["a"],VSimpleTable:gn["a"]});var On=Object(r["defineComponent"])({name:"SystemOverview",components:{OverviewTable:xn},props:{dateRange:{type:Object,required:!0}},setup:function(e){var t=La(e.dateRange),a=Object(r["computed"])((function(){return{name:"GroupList",query:Object(x["a"])(Object(x["a"])({},e.dateRange.queryParams()),{},{system:Pt.allSystem,query:Ra(Pt.spanSystem)})}}));return{xkey:Pt,systems:t,exploreRoute:a}}}),jn=On,_n=(a("1775"),a("cf3b")),Cn=a("e876"),wn=a("a03b"),kn=Object(ge["a"])(jn,ya,xa,!1,null,null,null),Sn=kn.exports;xe()(kn,{VBtn:Pe["a"],VCard:qe["a"],VCardText:Te["b"],VSlideGroup:_n["b"],VSlideItem:Cn["a"],VSpacer:Ee["a"],VToolbar:wn["a"],VToolbarTitle:xt["b"]});var Vn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticClass:"mb-4",attrs:{outlined:"",rounded:"lg"}},[a("v-toolbar",{attrs:{flat:"",color:"light-blue lighten-5"}},[a("v-toolbar-title",[e._v("Services")]),a("v-toolbar-items",{staticClass:"ml-5"},[a("v-col",{attrs:{"align-self":"center"}},[a("SystemPicker",{attrs:{"date-range":e.dateRange,systems:e.systems,"route-name":"ServiceOverview",outlined:""}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"primary",attrs:{to:e.groupListRoute,small:""}},[e._v("Open explorer")])],1),a("v-card-text",[a("OverviewTable",{attrs:{"date-range":e.dateRange,loading:e.services.loading,items:e.services.pageServices,order:e.services.order,column:"service",attribute:e.xkey.serviceName,"base-column-route":e.groupListRoute}})],1)],1),a("XPagination",{attrs:{pager:e.services.pager}})],1)},Pn=[];function qn(e,t){var a=l(),n=a.route,o=Ia({perPage:15}),s=Ea({column:Pt.serviceName,desc:!1}),i=re((function(){var a=n.value.params.projectId;return{url:"/api/tracing/".concat(a,"/services"),params:Object(x["a"])(Object(x["a"])({},t.axiosParams()),e.axiosParams())}})),c=i.loading,d=i.data,p=Object(r["computed"])((function(){var e,t;return null!==(e=null===(t=d.value)||void 0===t?void 0:t.services)&&void 0!==e?e:[]})),v=Object(r["computed"])((function(){var e,t=Object(u["orderBy"])(p.value,null!==(e=s.column)&&void 0!==e?e:Pt.serviceName,s.desc?"desc":"asc");return t})),m=Object(r["computed"])((function(){var e=v.value.slice(o.pos.start,o.pos.end);return e}));return Object(r["watch"])(p,(function(e){o.numItem=e.length}),{flush:"sync"}),Object(r["proxyRefs"])({pager:o,order:s,loading:c,list:v,pageServices:m})}var Tn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g(e._b({staticStyle:{"text-transform":"none"}},"v-btn",e.attrs,!1),n),[a("span",{staticClass:"px-4"},[e._v(e._s(e.systems.activeValue||"Choose system"))]),a("v-icon",{attrs:{right:"",size:"24"}},[e._v("mdi-menu-down")])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("SystemList",{attrs:{"date-range":e.dateRange,systems:e.systems,"max-height":e.maxHeight},on:{"click:item":function(t){e.menu=!1}}})],1)},Rn=[],In=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:"","max-height":e.maxHeight}},[a("v-list",{attrs:{dense:""}},[e._l(e.systems.tree,(function(t){return[t.children?a("v-menu",{key:t.system,attrs:{"open-on-hover":"","offset-x":"",transition:"slide-x-transition"},scopedSlots:e._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[a("v-list-item",e._g(e._b({attrs:{to:e.systemRoute(t.system),exact:""}},"v-list-item",o,!1),r),[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.system))])],1),a("v-list-item-icon",{staticClass:"align-self-center"},[a("v-icon",[e._v("mdi-menu-right")])],1)],1)]}}],null,!0)},[a("v-card",{attrs:{flat:"","max-height":e.maxHeight}},[a("v-list",{attrs:{dense:""}},e._l(t.children,(function(t){return a("v-list-item",{key:t.system,attrs:{to:e.systemRoute(t.system),exact:""},on:{click:function(t){return e.$emit("click:item")}}},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.system))])],1)],1)})),1)],1)],1):a("v-list-item",{key:t.system,attrs:{to:e.systemRoute(t.system),exact:""}},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.system))])],1)],1)]}))],2)],1)},En=[],Mn=Object(r["defineComponent"])({name:"SystemList",props:{dateRange:{type:Object,required:!0},systems:{type:Object,required:!0},maxHeight:{type:Number,default:420}},setup:function(e){var t=l(),a=t.route;function n(t){return{query:Object(x["a"])(Object(x["a"])({},e.dateRange.queryParams()),{},{system:t,query:a.value.query.query})}}return{systemRoute:n}}}),Ln=Mn,Nn=a("8b81"),Dn=Object(ge["a"])(Ln,In,En,!1,null,"31124747",null),$n=Dn.exports;xe()(Dn,{VCard:qe["a"],VIcon:Ie["a"],VList:Oe["a"],VListItem:je["a"],VListItemContent:_e["b"],VListItemIcon:Nn["a"],VListItemTitle:_e["c"],VMenu:Xe["a"]});var Bn=Object(r["defineComponent"])({name:"SystemPicker",components:{SystemList:$n},props:{dateRange:{type:Object,required:!0},systems:{type:Object,required:!0},outlined:{type:Boolean,default:!1},maxHeight:{type:Number,default:420}},setup:function(e){var t=Object(r["shallowRef"])(!1),a=Object(r["computed"])((function(){return e.outlined?{outlined:!0}:{dark:!0,class:"blue darken-1 elevation-5"}}));return d().sync({fromQuery:function(t){t.system&&e.systems.change(t.system)},toQuery:function(){if(e.systems.activeValue)return{system:e.systems.activeValue}}}),Object(r["watch"])((function(){return e.systems.list}),(function(){e.systems.activeItem||e.systems.list.length&&e.systems.change(e.systems.list[0].system)}),{immediate:!0}),{menu:t,attrs:a}}}),An=Bn,Fn=Object(ge["a"])(An,Tn,Rn,!1,null,"0a64f944",null),Gn=Fn.exports;xe()(Fn,{VBtn:Pe["a"],VIcon:Ie["a"],VMenu:Xe["a"]});var Xn=Object(r["defineComponent"])({name:"ServiceOverview",components:{OverviewTable:xn,SystemPicker:Gn},props:{dateRange:{type:Object,required:!0},systems:{type:Object,required:!0}},setup:function(e){var t=qn(e.dateRange,e.systems),a=Object(r["computed"])((function(){return Ra(Pt.serviceName)})),n=Object(r["computed"])((function(){return{name:"GroupList",query:Object(x["a"])(Object(x["a"])(Object(x["a"])({},e.dateRange.queryParams()),e.systems.axiosParams()),{},{query:a.value})}}));return{xkey:Pt,services:t,groupListRoute:n}}}),Un=Xn,Hn=Object(ge["a"])(Un,Vn,Pn,!1,null,null,null),Qn=Hn.exports;xe()(Hn,{VBtn:Pe["a"],VCard:qe["a"],VCardText:Te["b"],VCol:wt["a"],VSpacer:Ee["a"],VToolbar:wn["a"],VToolbarItems:xt["a"],VToolbarTitle:xt["b"]});var Wn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticClass:"mb-4",attrs:{outlined:"",rounded:"lg"}},[a("v-toolbar",{attrs:{flat:"",color:"light-blue lighten-5"}},[a("v-toolbar-title",[e._v("Hosts")]),a("v-toolbar-items",{staticClass:"ml-5"},[a("v-col",{attrs:{"align-self":"center"}},[a("SystemPicker",{attrs:{"date-range":e.dateRange,systems:e.systems,"route-name":"HostOverview",outlined:""}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"primary",attrs:{to:e.groupListRoute,small:""}},[e._v("Open explorer")])],1),a("v-card-text",[a("OverviewTable",{attrs:{"date-range":e.dateRange,loading:e.hosts.loading,items:e.hosts.pageHosts,order:e.hosts.order,column:"host",attribute:e.xkey.hostName,"base-column-route":e.groupListRoute}})],1)],1),a("XPagination",{attrs:{pager:e.hosts.pager}})],1)},Kn=[];function zn(e,t){var a=l(),n=a.route,o=Ia({perPage:15}),s=Ea({column:Pt.hostName,desc:!1}),i=re((function(){var a=n.value.params.projectId;return{url:"/api/tracing/".concat(a,"/hosts"),params:Object(x["a"])(Object(x["a"])({},t.axiosParams()),e.axiosParams())}})),c=i.loading,d=i.data,p=Object(r["computed"])((function(){var e,t;return null!==(e=null===(t=d.value)||void 0===t?void 0:t.hosts)&&void 0!==e?e:[]})),v=Object(r["computed"])((function(){var e,t=Object(u["orderBy"])(p.value,null!==(e=s.column)&&void 0!==e?e:Pt.hostName,s.desc?"desc":"asc");return t})),m=Object(r["computed"])((function(){var e=v.value.slice(o.pos.start,o.pos.end);return e}));return Object(r["watch"])(p,(function(e){o.numItem=e.length}),{flush:"sync"}),Object(r["proxyRefs"])({pager:o,order:s,loading:c,list:v,pageHosts:m})}var Jn=Object(r["defineComponent"])({name:"HostOverview",components:{OverviewTable:xn,SystemPicker:Gn},props:{dateRange:{type:Object,required:!0},systems:{type:Object,required:!0}},setup:function(e){var t=zn(e.dateRange,e.systems),a=Object(r["computed"])((function(){return Ra(Pt.hostName)})),n=Object(r["computed"])((function(){return{name:"GroupList",query:Object(x["a"])(Object(x["a"])(Object(x["a"])({},e.dateRange.queryParams()),e.systems.axiosParams()),{},{query:a.value})}}));return{xkey:Pt,hosts:t,groupListRoute:n}}}),Zn=Jn,Yn=Object(ge["a"])(Zn,Wn,Kn,!1,null,null,null),er=Yn.exports;xe()(Yn,{VBtn:Pe["a"],VCard:qe["a"],VCardText:Te["b"],VCol:wt["a"],VSpacer:Ee["a"],VToolbar:wn["a"],VToolbarItems:xt["a"],VToolbarTitle:xt["b"]});var tr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("XPlaceholder",{scopedSlots:e._u([e.systems.hasNoData?{key:"placeholder",fn:function(){return[a("HelpCard",{attrs:{"date-range":e.dateRange,loading:e.systems.loading}})]},proxy:!0}:null],null,!0)},[a("div",{staticClass:"border"},[a("v-container",{staticClass:"pb-0",attrs:{fluid:e.$vuetify.breakpoint.mdAndDown}},[a("v-row",{staticClass:"mb-4",attrs:{align:"center",justify:"space-between"}},[a("v-col",{attrs:{cols:"auto"}},[a("SystemPicker",{attrs:{"date-range":e.dateRange,systems:e.systems,"route-name":"GroupList"}})],1),a("v-col",{attrs:{cols:"auto"}},[a("DateRangePicker",{attrs:{"date-range":e.dateRange}})],1)],1),a("v-row",{attrs:{align:"end","no-gutters":""}},[a("v-col",[a("v-tabs",{key:e.$route.fullPath,attrs:{"background-color":"transparent"}},[a("v-tab",{attrs:{to:{name:"GroupList"},"exact-path":""}},[e._v("Groups")]),a("v-tab",{attrs:{to:{name:"SpanList"},"exact-path":""}},[e._v("Spans")])],1)],1)],1)],1)],1),a("v-container",{staticClass:"pt-2",attrs:{fluid:e.$vuetify.breakpoint.mdAndDown}},[a("UptraceQuery",{staticClass:"mb-1",attrs:{uql:e.uql}},[a("SpanFilters",{attrs:{uql:e.uql,systems:e.systems,"axios-params":e.axiosParams}})],1),a("router-view",{attrs:{"date-range":e.dateRange,systems:e.systems,uql:e.uql,"axios-params":e.axiosParams}})],1)],1)},ar=[],nr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{staticClass:"mb-n1",attrs:{"no-gutters":"",align:"center"}},[a("v-col",[a("div",{staticClass:"d-flex filters"},[e._t("default")],2)]),a("v-col",{attrs:{cols:"auto"}},[a("SpanQueryHelpDialog",{staticClass:"mr-2",attrs:{uql:e.uql}})],1),a("v-col",{attrs:{cols:"auto"}},[e.uql.rawMode?e._e():a("v-btn",{attrs:{icon:"",title:"Edit query"},on:{click:function(t){e.uql.rawMode=!0}}},[a("v-icon",{attrs:{size:"22"}},[e._v("mdi-pencil-outline")])],1)],1)],1),e.uql.rawMode?[a("v-row",{attrs:{align:"center",dense:""}},[a("v-col",[a("v-textarea",{attrs:{rows:"1",outlined:"",clearable:"","auto-grow":"",autofocus:"","hide-details":"auto"},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.stopPropagation(),t.preventDefault()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),t.preventDefault(),e.exitRawMode(!0))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.stopPropagation(),t.preventDefault(),e.exitRawMode(!1))}]},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)],1),a("v-row",{staticClass:"mt-1",attrs:{"no-gutters":""}},[a("v-col",{staticClass:"text-caption grey--text text--darken-2"},[e._v(" Press ENTER to apply and ESC to cancel ")]),a("v-spacer"),a("v-col",{attrs:{cols:"auto"}},[a("v-btn",{attrs:{text:"",small:""},on:{click:function(t){return e.exitRawMode(!1)}}},[e._v("Cancel")]),a("v-btn",{staticClass:"ml-2",attrs:{small:"",color:"primary"},on:{click:function(t){return e.exitRawMode(!0)}}},[e._v("OK")])],1)],1)]:e.uql.parts.length?a("v-row",{attrs:{align:"center",dense:""}},[a("v-col",{staticClass:"d-flex flex-wrap align-start"},[e._l(e.uql.parts,(function(t,n){return[n===e.partEditor.index?a("div",{key:n,staticClass:"mr-2 d-inline-block"},[a("v-text-field",{directives:[{name:"autowidth",rawName:"v-autowidth",value:{minWidth:"40px"},expression:"{ minWidth: '40px' }"}],attrs:{"error-messages":t.error,outlined:"",dense:"","hide-details":"auto",autofocus:""},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.stopPropagation(),t.preventDefault()},keydown:[function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:(a.stopPropagation(),a.preventDefault(),e.partEditor.applyEdits(t))},function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"esc",27,a.key,["Esc","Escape"])?null:(a.stopPropagation(),a.preventDefault(),e.partEditor.cancelEdits(t))}],blur:function(a){return e.partEditor.cancelEdits(t)}},model:{value:e.partEditor.query,callback:function(t){e.$set(e.partEditor,"query",t)},expression:"partEditor.query"}})],1):a("UptraceQueryChip",{key:n,staticClass:"mr-2 mb-1",attrs:{query:t.query,error:t.error,disabled:t.disabled||e.disabled},on:{"click:edit":function(a){return e.partEditor.startEditing(n,t)},"click:delete":function(t){return e.uql.removePart(n)}}})]})),e.partEditor.editing?e._e():a("v-btn",{staticClass:"btn--add",attrs:{color:"text--secondary",fab:"",elevation:"0"},on:{click:e.partEditor.add}},[a("v-icon",[e._v("mdi-plus")])],1)],2)],1):a("v-row",{attrs:{align:"center",dense:""}},[a("v-col",{staticClass:"mb-1 px-3 text-body-2"},[e.disabled?a("div",{staticClass:"text--disabled"},[e._v("The query is empty...")]):a("div",{staticClass:"text--secondary cursor-pointer",on:{click:function(t){e.uql.rawMode=!0}}},[e._v(" Click to edit the query... ")])])],1)],2)},rr=[],or=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.dialog=!0}}},[a("v-icon",[e._v("mdi-help-circle-outline")])],1),a("v-dialog",{attrs:{"max-width":1280},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.dialog=!1}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",color:"blue lighten-5"}},[a("v-toolbar-title",[e._v("Querying")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"py-4"},[a("p",{staticClass:"grey--text text--darken-4"},[e._v(" Uptrace supports SQL-like language to filter, group, and aggregate span "),a("a",{attrs:{href:"https://opentelemetry.uptrace.dev/attributes/",target:"_blank"}},[e._v("attributes")]),e._v(". ")]),a("v-simple-table",[a("thead",{staticClass:"v-data-table-header"},[a("tr",[a("th",[e._v("Query")]),a("th",[e._v("Comment")])])]),a("tbody",[a("tr",[a("td",[a("UqlChip",{attrs:{uql:e.uql,column:"span.name",op:"contains",value:"get|post"},on:{click:function(t){e.dialog=!1}}})],1),a("td",[e._v('Filter span names that contain "get" or "post" (case-insensitive).')])]),a("tr",[a("td",[a("UqlChip",{attrs:{uql:e.uql,query:"group by span.group_id | avg(span.duration) | where span.duration > 10ms and span.duration < 50ms"},on:{click:function(t){e.dialog=!1}}})],1),a("td",[e._v("Filter span duration.")])]),a("tr",[a("td",[a("UqlChip",{attrs:{uql:e.uql,query:"group by host.name | p50(span.duration)"},on:{click:function(t){e.dialog=!1}}})],1),a("td",[e._v("Select median span duration for each host name.")])]),a("tr",[a("td",[a("UqlChip",{attrs:{uql:e.uql,query:"group by span.group_id | where span.event_count > 0"},on:{click:function(t){e.dialog=!1}}})],1),a("td",[e._v("Select spans with events for each group.")])])])])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialog=!1}}},[e._v("Close")]),a("v-btn",{attrs:{text:"",color:"primary",href:"https://docs.uptrace.dev/guide/querying.html",target:"_blank"}},[e._v("Read more")])],1)],1)],1)],1)},sr=[],ir=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tooltip",{attrs:{disabled:!e.tooltip,top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-chip",e._g(e._b({attrs:{label:"",color:"grey lighten-4"},on:{click:e.apply}},"v-chip",r,!1),n),[e._v(" "+e._s(e.text)+" ")])]}}])},[e._v(" "+e._s(e.tooltip)+" ")])},ur=[],cr=Object(r["defineComponent"])({name:"UqlChip",props:{uql:{type:Object,required:!0},column:{type:String,default:""},group:{type:String,default:""},op:{type:String,default:""},value:{type:void 0,default:void 0},query:{type:String,default:""},tooltip:{type:String,default:void 0}},setup:function(e,t){var a=Object(r["computed"])((function(){if(e.group)return e.group;if(e.column){var t=[e.column,e.op];return e.value&&t.push(Ca(e.value)),t.join(" ")}return e.query?e.query:""}));function n(){if(t.emit("click"),e.group){var a=e.uql.createEditor();return a.replaceGroupBy(e.group),void e.uql.commitEdits(a)}if(e.column&&!e.op)return o(e.column);if(e.column&&e.op){var n=e.uql.createEditor();return n.where(e.column,e.op,e.value),void e.uql.commitEdits(n)}e.query&&(e.uql.query=e.query)}function o(t){var a=e.uql.createEditor();a.add(t),e.uql.commitEdits(a)}return{text:a,apply:n}}}),lr=cr,dr=a("1d45"),pr=Object(ge["a"])(lr,ir,ur,!1,null,"3117a298",null),vr=pr.exports;xe()(pr,{VChip:dr["a"],VTooltip:Dt["a"]});var mr=Object(r["defineComponent"])({name:"SpanQueryHelpDialog",components:{UqlChip:vr},props:{uql:{type:Object,required:!0}},setup:function(){var e=Object(r["ref"])(!1);return{dialog:e}}}),fr=mr,br=(a("adf7"),a("e01f")),hr=Object(ge["a"])(fr,or,sr,!1,null,"7da06156",null),gr=hr.exports;xe()(hr,{VBtn:Pe["a"],VCard:qe["a"],VCardActions:Te["a"],VCardText:Te["b"],VDialog:br["a"],VIcon:Ie["a"],VSimpleTable:gn["a"],VSpacer:Ee["a"],VToolbar:wn["a"],VToolbarTitle:xt["b"]});var yr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-inline-block"},[a("v-chip",{class:{disabled:e.disabled},attrs:{label:"",color:"grey lighten-4"},on:{click:function(t){return e.$emit("click:edit")}}},[e.info.keyword?a("span",{staticClass:"mr-1 font-weight-medium"},[e._v(e._s(e.info.keyword))]):e._e(),a("span",[e._v(e._s(e.info.expr))]),a("v-icon",{attrs:{right:""},on:{click:function(t){return t.stopPropagation(),e.$emit("click:delete")}}},[e._v("mdi-close")])],1),e.error?a("div",{staticClass:"text-caption text-no-wrap red--text text--darken-2"},[e._v(" "+e._s(e.error)+" ")]):e._e()],1)},xr=[],Or=Object(r["defineComponent"])({name:"UptraceQueryChip",props:{query:{type:String,required:!0},error:{type:String,default:""},disabled:{type:Boolean,default:!1}},setup:function(e){var t=Object(r["computed"])((function(){return Cr(e.query)}));return{info:t}}}),jr=/^group\s+by\s+(.+)/i,_r=/^where\s+(.+)/i;function Cr(e){var t=e.match(jr);return t?{keyword:"group by",expr:t[1]}:(t=e.match(_r),t?{keyword:"where",expr:t[1]}:{keyword:"",expr:e})}var wr=Or,kr=(a("cff3"),Object(ge["a"])(wr,yr,xr,!1,null,"1eea170e",null)),Sr=kr.exports;xe()(kr,{VChip:dr["a"],VIcon:Ie["a"]});var Vr=Object(r["defineComponent"])({name:"UptraceQuery",components:{SpanQueryHelpDialog:gr,UptraceQueryChip:Sr},props:{uql:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){var t=Object(r["shallowRef"])("");function a(a){e.uql.rawMode=!1,a&&(e.uql.query=t.value)}return Object(r["watch"])((function(){return e.uql.query}),(function(e){t.value=e}),{immediate:!0}),{query:t,exitRawMode:a,partEditor:Pr(e.uql)}}});function Pr(e){var t=Object(r["shallowRef"])(),a=Object(r["shallowRef"])(""),n=Object(r["computed"])((function(){return void 0!==t.value}));function o(){var t=Pa();e.addPart(t),s(e.parts.length-1,t)}function s(e,n){t.value=e,a.value=n.query}function i(e){a.value!==e.query&&(e.error=""),e.query=a.value,u()}function u(){t.value=void 0,a.value="",e.cleanup()}return Object(r["proxyRefs"])({index:t,query:a,editing:n,add:o,startEditing:s,applyEdits:i,cancelEdits:u})}var qr=Vr,Tr=(a("1f3b"),a("8784"),a("8b3a")),Rr=a("3e7c"),Ir=Object(ge["a"])(qr,nr,rr,!1,null,"4f04297a",null),Er=Ir.exports;xe()(Ir,{VBtn:Pe["a"],VCol:wt["a"],VIcon:Ie["a"],VRow:kt["a"],VSpacer:Ee["a"],VTextField:Tr["a"],VTextarea:Rr["a"]});var Mr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"frag",rawName:"v-frag"}]},[a("SearchFilterMenu",{attrs:{uql:e.uql}}),a("DurationFilterMenu",{attrs:{uql:e.uql}}),a("AttrFilterMenu",{attrs:{uql:e.uql,"axios-params":e.axiosParams,"attr-key":e.xkey.spanStatusCode,label:"Status"}}),a("AttrFilterMenu",{attrs:{uql:e.uql,"axios-params":e.axiosParams,"attr-key":e.xkey.spanKind,label:"Kind"}}),a("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),a("WhereFilterMenu",{attrs:{systems:e.systems,uql:e.uql,"axios-params":e.axiosParams}}),a("AggFilterMenu",{attrs:{uql:e.uql,"axios-params":e.axiosParams}}),a("GroupByMenu",{attrs:{uql:e.uql,"axios-params":e.axiosParams}}),a("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),a("v-btn",{staticClass:"v-btn--filter",attrs:{text:""},on:{click:e.reset}},[e._v("Reset")])],1)},Lr=[],Nr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"v-btn--filter",attrs:{text:""}},"v-btn",r,!1),n),[a("span",[e._v("Search")]),a("v-icon",{staticClass:"ml-0",attrs:{right:""}},[e._v("mdi-menu-down")])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.addFilter.apply(null,arguments)}}},[a("v-card",{attrs:{width:"550"}},[a("v-card-text",{staticClass:"pa-6"},[a("v-row",[a("v-col",[a("v-btn-toggle",{attrs:{dense:"",tile:"",color:"primary"},model:{value:e.attrSet.active,callback:function(t){e.$set(e.attrSet,"active",t)},expression:"attrSet.active"}},e._l(e.attrSet.items,(function(t){return a("v-btn",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.value)+" ")])})),1)],1)],1),a("v-row",[a("v-col",[a("v-autocomplete",{attrs:{items:e.attrKeyItems,rules:e.rules,"hide-details":"auto",chips:"","small-chips":"",multiple:"",filled:""},model:{value:e.attrKeys,callback:function(t){e.attrKeys=t},expression:"attrKeys"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Contains substr1|substr2|substr3",hint:'Case-insensitive options separated with "|"',"persistent-hint":"",filled:"",dense:"",autofocus:""},model:{value:e.attrValue,callback:function(t){e.attrValue=t},expression:"attrValue"}})],1)],1),a("v-row",[a("v-spacer"),a("v-col",{attrs:{cols:"auto"}},[a("v-btn",{staticClass:"primary",attrs:{type:"submit",disabled:!e.isValid}},[e._v("Filter")])],1)],1)],1)],1)],1)],1)},Dr=[],$r=Object(r["defineComponent"])({name:"SearchFilterMenu",props:{uql:{type:Object,required:!0}},setup:function(e){var t=Object(r["shallowRef"])(!1),a=[function(e){return e&&e.length?!(e.length>4)||"You can search at most over 4 attributes":"Please select at least one attribute"}],n=Object(r["computed"])((function(){return s.value&&s.value.length&&o.value})),o=Object(r["shallowRef"])(""),s=Object(r["shallowRef"])([Pt.spanName,Pt.spanEventName]),i=[Pt.spanName,Pt.spanEventName,Pt.exceptionType,Pt.exceptionMessage,Pt.logSeverity,Pt.logMessage,Pt.codeFunction,Pt.codeFilepath,Pt.dbOperation,Pt.dbSqlTables,Pt.dbStatement],u=Object(r["computed"])((function(){return s.value.some((function(e){var t=[Pt.exceptionType,Pt.exceptionMessage,Pt.logSeverity,Pt.logMessage];return t.indexOf(e)>=0}))}));function c(){if(n.value){var a=s.value.join(","),r=Ca(o.value),i=e.uql.createEditor();i.add("where {".concat(a,"} contains ").concat(r)),u.value&&i.add("where ".concat(Pt.spanIsEvent)),e.uql.commitEdits(i),t.value=!1}else t.value=!1}return{xkey:Pt,menu:t,attrKeys:s,attrSet:Br(s),attrKeyItems:i,attrValue:o,rules:a,isValid:n,addFilter:c}}});function Br(e){var t=Object(r["computed"])((function(){return[{value:"span",attrKeys:[Pt.spanName,Pt.spanEventName]},{value:"log or error",attrKeys:[Pt.exceptionType,Pt.exceptionMessage,Pt.logSeverity,Pt.logMessage]},{value:"code",attrKeys:[Pt.codeFunction,Pt.codeFilepath]},{value:"db",attrKeys:[Pt.dbOperation,Pt.dbSqlTables,Pt.dbStatement]}]})),a=Object(r["computed"])({get:function(){var a,n=Object(i["a"])(t.value);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(Object(u["isEqual"])(r.attrKeys,e.value))return r.value}}catch(o){n.e(o)}finally{n.f()}return""},set:function(a){var n,r=t.value.find((function(e){return e.value===a}));e.value=null!==(n=null===r||void 0===r?void 0:r.attrKeys)&&void 0!==n?n:[]}});return Object(r["proxyRefs"])({items:t,active:a})}var Ar=$r,Fr=(a("4e08"),a("72ee")),Gr=a("ae176"),Xr=a("8ce6"),Ur=Object(ge["a"])(Ar,Nr,Dr,!1,null,"23ec3df9",null),Hr=Ur.exports;xe()(Ur,{VAutocomplete:Fr["a"],VBtn:Pe["a"],VBtnToggle:Gr["a"],VCard:qe["a"],VCardText:Te["b"],VCol:wt["a"],VForm:Xr["a"],VIcon:Ie["a"],VMenu:Xe["a"],VRow:kt["a"],VSpacer:Ee["a"],VTextField:Tr["a"]});var Qr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"v-btn--filter",attrs:{text:""}},"v-btn",r,!1),n),[a("span",[e._v("Dur.")]),a("v-icon",{staticClass:"ml-0",attrs:{right:""}},[e._v("mdi-menu-down")])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.addFilter.apply(null,arguments)}}},[a("v-card",{attrs:{width:"360px"}},[a("v-card-text",{staticClass:"py-6"},[a("v-row",{staticClass:"mb-n4",attrs:{align:"center"}},[a("v-col",[a("v-text-field",{attrs:{type:"number",min:"0",label:">= duration",suffix:"ms",outlined:"",dense:"",autofocus:"","hide-details":"auto"},model:{value:e.gte,callback:function(t){e.gte=t},expression:"gte"}})],1),a("v-col",{staticClass:"px-0",attrs:{cols:"auto"}},[e._v("AND")]),a("v-col",[a("v-text-field",{attrs:{type:"number",min:e.gte+1,label:"< duration",suffix:"ms",outlined:"",dense:"","hide-details":"auto"},model:{value:e.lt,callback:function(t){e.lt=t},expression:"lt"}})],1)],1),a("v-row",[a("v-spacer"),a("v-col",{attrs:{cols:"auto"}},[a("v-btn",{attrs:{type:"submit",color:"primary",disabled:!e.isValid}},[e._v("Filter")])],1)],1)],1)],1)],1)],1)},Wr=[],Kr=Object(r["defineComponent"])({name:"DurationFilterMenu",props:{uql:{type:Object,required:!0}},setup:function(e){var t=Object(r["shallowRef"])(!1),a=Object(r["shallowRef"])(),n=Object(r["shallowRef"])(),o=Object(r["computed"])((function(){return a.value||n.value}));function s(){if(o.value){var r=e.uql.createEditor();a.value&&r.replaceOrPush(/^where\s+span\.duration\s+>=\s.+$/i,"where ".concat(Pt.spanDuration," >= ").concat(a.value,"ms")),n.value&&r.replaceOrPush(/^where\s+span\.duration\s+<\s.+$/i,"where ".concat(Pt.spanDuration," < ").concat(n.value,"ms")),e.uql.commitEdits(r),t.value=!1,a.value=void 0,n.value=void 0}else t.value=!1}return{menu:t,gte:a,lt:n,isValid:o,addFilter:s}}}),zr=Kr,Jr=Object(ge["a"])(zr,Qr,Wr,!1,null,"2ccaf884",null),Zr=Jr.exports;xe()(Jr,{VBtn:Pe["a"],VCard:qe["a"],VCardText:Te["b"],VCol:wt["a"],VForm:Xr["a"],VIcon:Ie["a"],VMenu:Xe["a"],VRow:kt["a"],VSpacer:Ee["a"],VTextField:Tr["a"]});var Yr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"v-btn--filter",attrs:{text:""}},"v-btn",r,!1),n),[a("span",[e._v(e._s(e.label))]),a("v-icon",{staticClass:"ml-0",attrs:{right:""}},[e._v("mdi-menu-down")])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("XList",{attrs:{loading:e.suggestions.loading,items:e.suggestions.filteredItems,"num-item":e.suggestions.items.length,"search-input":e.suggestions.searchInput,"return-object":""},on:{"update:searchInput":function(t){return e.$set(e.suggestions,"searchInput",t)},"update:search-input":function(t){return e.$set(e.suggestions,"searchInput",t)},input:function(t){return e.addFilter(t.text,"=")}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(e.truncate(n.text,{length:60}))+" ")])],1),a("v-list-item-action",{staticClass:"my-0",on:{click:function(t){return t.stopPropagation(),e.addFilter(n.text,"!=")}}},[a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-not-equal")])],1)],1)]}}])})],1)},eo=[];function to(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(r["shallowRef"])(""),o=null!==(t=a.suggestSearchInput)&&void 0!==t&&t,s=re((function(){return e()})),i=s.loading,u=s.data,c=Object(r["computed"])((function(){var e,t;return null!==(e=null===(t=u.value)||void 0===t?void 0:t.suggestions)&&void 0!==e?e:[]})),l=Object(r["computed"])((function(){var e=c.value.slice();if(!n.value)return e;if(e=e.filter((function(e){return e.text.indexOf(n.value)>=0})),o){var t={text:n.value};e.length<=5?e.push(t):e.unshift(t)}return e}));return Object(r["proxyRefs"])({searchInput:n,loading:i,data:u,items:c,filteredItems:l})}var ao=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{attrs:{"max-height":"320",loading:e.loading}},[a("XPlaceholder",{scopedSlots:e._u([e.loading?{key:"placeholder",fn:function(){return[a("v-skeleton-loader",{attrs:{width:"200",type:"list-item@3",loading:""}})]},proxy:!0}:e.items.length?null:{key:"placeholder",fn:function(){return[a("v-card-text",[e._v("There are no any suggestions.")])]},proxy:!0}],null,!0)},[e.showFilter?a("v-card-text",{staticClass:"mb-n2"},[a("v-text-field",{attrs:{placeholder:"Filter",outlined:"",dense:"","hide-details":"auto",autofocus:"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1):e._e(),a("v-list",{attrs:{dense:""}},e._l(e.filteredItems,(function(t){return a("v-list-item",{key:t.value,on:{click:function(a){return e.onClick(t)}}},[e._t("item",(function(){return[a("v-list-item-content",[a("v-list-item-title",{staticStyle:{"text-overflow":"clip"}},[e._v(" "+e._s(e.truncate(t.text,{length:80}))+" ")])],1)]}),{item:t})],2)})),1)],1)],1)},no=[],ro=Object(r["defineComponent"])({name:"XList",props:{loading:{type:Boolean,default:!1},items:{type:Array,required:!0},numItem:{type:Number,default:void 0},searchInput:{type:String,default:""},returnObject:{type:Boolean,default:!1}},setup:function(e,t){var a=Object(r["shallowRef"])(""),n=Object(r["computed"])((function(){return e.items.map((function(e){return"string"===typeof e?{text:e,value:e}:e}))})),o=Object(r["computed"])((function(){var e=n.value.slice();return a.value?e.filter((function(e){return e.text.indexOf(a.value)>=0})):e})),s=Object(r["computed"])((function(){return e.numItem?e.numItem>10:e.items.length>10}));function i(a){e.returnObject?t.emit("input",a):t.emit("input",a.value)}return Object(r["watch"])((function(){return e.searchInput}),(function(e){a.value=e}),{immediate:!0}),Object(r["watch"])(a,(function(e){t.emit("update:searchInput",e)})),{search:a,filteredItems:o,showFilter:s,onClick:i,truncate:u["truncate"]}}}),oo=ro,so=a("8fd6"),io=Object(ge["a"])(oo,ao,no,!1,null,"bea19ccc",null),uo=io.exports;xe()(io,{VCardText:Te["b"],VList:Oe["a"],VListItem:je["a"],VListItemContent:_e["b"],VListItemTitle:_e["c"],VSheet:nn["a"],VSkeletonLoader:so["a"],VTextField:Tr["a"]});var co=Object(r["defineComponent"])({name:"AttrFilterMenu",components:{XList:uo},props:{uql:{type:Object,required:!0},axiosParams:{type:Object,required:!0},attrKey:{type:String,required:!0},label:{type:String,required:!0}},setup:function(e,t){var a=l(),n=a.route,o=Object(r["shallowRef"])(!1),s=to((function(){if(!o.value)return null;var t=n.value.params.projectId;return{url:"/api/tracing/".concat(t,"/suggestions/values"),params:Object(x["a"])(Object(x["a"])({},e.axiosParams),{},{column:e.attrKey})}}));function i(a,n){var r=e.uql.createEditor();r.where(e.attrKey,n,a),e.uql.commitEdits(r),o.value=!1,t.emit("change")}return{menu:o,suggestions:s,addFilter:i,truncate:u["truncate"]}}}),lo=co,po=a("459a"),vo=Object(ge["a"])(lo,Yr,eo,!1,null,"48482022",null),mo=vo.exports;xe()(vo,{VBtn:Pe["a"],VIcon:Ie["a"],VListItemAction:po["a"],VListItemContent:_e["b"],VListItemTitle:_e["c"],VMenu:Xe["a"]});var fo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"v-btn--filter",attrs:{text:""}},"v-btn",r,!1),n),[a("span",[e._v("Where")]),a("v-icon",{staticClass:"ml-0",attrs:{right:""}},[e._v("mdi-menu-down")])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-card",{staticClass:"pa-3"},[a("v-row",[a("v-col",{attrs:{cols:"auto"}},[a("v-form",{ref:"form",staticClass:"pa-3",staticStyle:{width:"400px"},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("v-row",[a("v-col",{staticClass:"space-around"},[a("UqlChip",{attrs:{uql:e.uql,column:"span.event_count",op:">",value:"0",tooltip:"Filter spans with events"},on:{click:function(t){e.menu=!1}}}),a("UqlChip",{attrs:{uql:e.uql,column:"span.event_log_count",op:">",value:"0",tooltip:"Filter spans with logs"},on:{click:function(t){e.menu=!1}}}),a("UqlChip",{attrs:{uql:e.uql,column:"span.event_error_count",op:">",value:"0",tooltip:"Filter spans with errors"},on:{click:function(t){e.menu=!1}}})],1)],1),a("v-divider",{staticClass:"my-6"}),a("v-row",[a("v-col",{staticClass:"grey--text text--darken-3"},[e._v("For example, "),a("strong",[e._v("where span.duration > 100ms")]),e._v(".")])],1),a("v-row",{staticClass:"mb-n3"},[a("v-col",{staticClass:"pt-4 pr-2",attrs:{cols:"auto"}},[a("v-avatar",{attrs:{color:"grey",size:"30"}},[a("span",{staticClass:"white--text text-h6"},[e._v("1")])])],1),a("v-col",[a("SimpleSuggestions",{staticClass:"fit",attrs:{loading:e.columnSuggestions.loading,suggestions:e.columnSuggestions,rules:e.rules.column,label:"Column",dense:""},model:{value:e.column,callback:function(t){e.column=t},expression:"column"}})],1)],1),a("v-row",{staticClass:"mb-n3"},[a("v-col",{staticClass:"pt-4 pr-2",attrs:{cols:"auto"}},[a("v-avatar",{attrs:{color:"grey",size:"30"}},[a("span",{staticClass:"white--text text-h6"},[e._v("2")])])],1),a("v-col",[a("v-autocomplete",{staticClass:"fit",staticStyle:{width:"200px"},attrs:{rules:e.rules.op,label:"Operator",items:e.opItems,outlined:"",dense:"",clearable:"","hide-details":"auto"},model:{value:e.op,callback:function(t){e.op=t},expression:"op"}})],1)],1),a("v-row",[a("v-col",{staticClass:"pt-4 pr-2",attrs:{cols:"auto"}},[a("v-avatar",{attrs:{color:"grey",size:"30"}},[a("span",{staticClass:"white--text text-h6"},[e._v("3")])])],1),a("v-col",[a("SimpleSuggestions",{staticClass:"fit",attrs:{loading:e.valueSuggestions.loading,suggestions:e.valueSuggestions,rules:e.rules.colValue,label:"Value",placeholder:e.valuePlaceholder,hint:e.valueHint,disabled:e.valueDisabled,dense:""},model:{value:e.colValue,callback:function(t){e.colValue=t},expression:"colValue"}})],1)],1),a("v-row",[a("v-spacer"),a("v-col",{attrs:{cols:"auto"}},[a("v-btn",{staticClass:"primary",attrs:{disabled:!e.isValid},on:{click:e.addFilter}},[e._v("Filter")])],1)],1)],1)],1),e.lcAttrs.length?[a("v-col",{attrs:{cols:"auto"}},[a("v-divider",{attrs:{vertical:""}})],1),a("v-col",{staticClass:"pa-4",attrs:{cols:"auto"}},e._l(e.lcAttrs,(function(t){return a("div",{key:t},[a("AttrFilterMenu",{attrs:{uql:e.uql,"axios-params":e.axiosParams,"attr-key":t,label:t},on:{change:function(t){e.menu=!1}}})],1)})),0)]:e._e()],2)],1)],1)},bo=[],ho=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-combobox",e._b({staticClass:"pt-0",attrs:{value:e.value,"persistent-hint":"",loading:e.loading,items:e.suggestions.filteredItems,"search-input":e.suggestions.searchInput,"return-object":"","no-filter":"","auto-select-first":"",clearable:"",outlined:"","hide-details":"auto"},on:{"update:searchInput":function(t){return e.$set(e.suggestions,"searchInput",t)},"update:search-input":function(t){return e.$set(e.suggestions,"searchInput",t)},input:e.onInput},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.truncate(n.text,{length:60})))])],1),n.hint?a("v-list-item-action",[a("v-list-item-action-text",[e._v(e._s(n.hint))])],1):e._e()]}}])},"v-combobox",e.$attrs,!1))},go=[],yo=Object(r["defineComponent"])({name:"SimpleSuggestions",props:{loading:{type:Boolean,default:!1},value:{type:Object,default:void 0},suggestions:{type:Object,required:!0}},setup:function(e,t){var a=t.emit;function n(e){"string"===typeof e&&(e={text:e}),a("input",e)}return{onInput:n,truncate:u["truncate"]}}}),xo=yo,Oo=a("5c34"),jo=Object(ge["a"])(xo,ho,go,!1,null,"a5dbcd36",null),_o=jo.exports;xe()(jo,{VCombobox:Oo["a"],VListItemAction:po["a"],VListItemActionText:_e["a"],VListItemContent:_e["b"],VListItemTitle:_e["c"]});var Co=function(e){return e&&0!=e.length||"Field is required"};var wo={contains:"contains",doesNotContain:"does not contain",like:"like",notLike:"not like",exists:"exists",doesNotExist:"does not exist"},ko=Object(r["defineComponent"])({name:"WhereFilterMenu",components:{AttrFilterMenu:mo,SimpleSuggestions:_o,UqlChip:vr},props:{systems:{type:Object,required:!0},uql:{type:Object,required:!0},axiosParams:{type:Object,required:!0}},setup:function(e){var t=l(),a=t.route,n=Object(r["shallowRef"])(!1),o=Object(r["shallowRef"])(),s=Object(r["shallowRef"])(""),i=Object(r["shallowRef"])(),u=Object(r["shallowRef"])(),c=Object(r["shallowRef"])(!1),d={column:[Co],op:[Co],colValue:[]},p=to((function(){if(!n.value)return null;var t=a.value.params.projectId;return{url:"/api/tracing/".concat(t,"/suggestions/attributes"),params:e.axiosParams}}),{suggestSearchInput:!0}),v=Object(r["computed"])((function(){var e=[Pt.serviceName,Pt.hostName,Pt.codeFilepath,Pt.codeFunction,Pt.rpcMethod,Pt.httpMethod,Pt.httpStatusCode];return p.items.filter((function(t){return e.indexOf(t.text)>=0})).map((function(e){return e.text})).sort((function(t,a){return e.indexOf(t)-e.indexOf(a)}))})),m=Object(r["computed"])((function(){return["=","!=","<","<=",">",">=",wo.contains,wo.doesNotContain,wo.like,wo.notLike,wo.exists,wo.doesNotExist]})),f=to((function(){if(n.value&&o.value&&o.value.text){var t=a.value.params.projectId;return{url:"/api/tracing/".concat(t,"/suggestions/values"),params:Object(x["a"])(Object(x["a"])({},e.axiosParams),{},{column:o.value.text})}}}),{suggestSearchInput:!0}),b=Object(r["computed"])((function(){switch(s.value){case wo.like:case wo.notLike:return"%substring% or %suffix or prefix%";case wo.contains:case wo.doesNotContain:return"substr1|substr2|substr3";default:return""}})),h=Object(r["computed"])((function(){switch(s.value){case wo.like:case wo.notLike:return'"%" matches zero or more characters';case wo.contains:case wo.doesNotContain:return'Case-insensitive options separated with "|"';default:return""}})),g=Object(r["computed"])((function(){switch(s.value){case wo.exists:case wo.doesNotExist:return!0;default:return!1}}));function y(){setTimeout((function(){if(o.value&&s.value){var t=e.uql.createEditor();if(g.value)t.add("where ".concat(o.value.text," ").concat(s.value));else{var a,r,c=null!==(a=null===(r=i.value)||void 0===r?void 0:r.text)&&void 0!==a?a:"";t.add("where ".concat(o.value.text," ").concat(s.value," ").concat(Ca(c)))}e.uql.commitEdits(t),o.value=void 0,s.value="",i.value=void 0,u.value.resetValidation(),n.value=!1}}),10)}return Object(r["watch"])(g,(function(e){e&&(i.value=void 0)})),{xkey:Pt,menu:n,lcAttrs:v,form:u,isValid:c,rules:d,columnSuggestions:p,opItems:m,valueSuggestions:f,valuePlaceholder:b,valueHint:h,valueDisabled:g,column:o,op:s,colValue:i,addFilter:y}}}),So=ko,Vo=(a("0614"),a("fe0a")),Po=a("6098"),qo=Object(ge["a"])(So,fo,bo,!1,null,"4f3aab5c",null),To=qo.exports;xe()(qo,{VAutocomplete:Fr["a"],VAvatar:Vo["a"],VBtn:Pe["a"],VCard:qe["a"],VCol:wt["a"],VDivider:Po["a"],VForm:Xr["a"],VIcon:Ie["a"],VMenu:Xe["a"],VRow:kt["a"],VSpacer:Ee["a"]});var Ro=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"v-btn--filter",attrs:{text:""}},"v-btn",r,!1),n),[a("span",[e._v("Agg")]),a("v-icon",{staticClass:"ml-0",attrs:{right:""}},[e._v("mdi-menu-down")])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.addFilter.apply(null,arguments)}},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("v-card",{attrs:{width:"400px"}},[a("v-card-text",{staticClass:"py-6 text-body-2"},[a("v-row",[a("v-col",{staticClass:"no-transform space-around"},e._l(e.aggColumns,(function(t){return a("UqlChip",{key:t.name,attrs:{uql:e.uql,column:t.name,tooltip:t.tooltip},on:{click:function(t){e.menu=!1}}})})),1)],1),a("div",{staticClass:"mt-3 mb-4 d-flex align-center"},[a("v-divider"),a("div",{staticClass:"mx-2 grey--text text--lighten-1"},[e._v("or")]),a("v-divider")],1),a("v-row",{staticClass:"mb-n1"},[a("v-col",[e._v(" Select a function and then a column: "),a("strong",[e._v("func(column)")]),e._v(". ")])],1),a("v-row",{staticClass:"mb-n6",attrs:{dense:""}},[a("v-col",{attrs:{cols:5}},[a("v-autocomplete",{staticClass:"fit",attrs:{rules:e.rules.func,label:"Function",items:e.funcItems,"return-object":"",outlined:"",dense:""},model:{value:e.func,callback:function(t){e.func=t},expression:"func"}})],1),a("v-col",{attrs:{cols:7}},[a("SimpleSuggestions",{staticClass:"fit",attrs:{loading:e.suggestions.loading,suggestions:e.suggestions,label:"Column",rules:e.rules.column,disabled:!e.func||e.func.isColumn,dense:""},model:{value:e.column,callback:function(t){e.column=t},expression:"column"}})],1)],1),a("v-row",[a("v-spacer"),a("v-col",{attrs:{cols:"auto"}},[a("v-btn",{staticClass:"primary",attrs:{type:"submit",disabled:!e.isValid}},[e._v("Add column")])],1)],1)],1)],1)],1)],1)},Io=[],Eo=["any","top3","top10","avg","uniq","p50","p75","p90","p95","p99","min","max","sum"],Mo=[{name:Pt.spanCount,tooltip:"Number of spans in a group"},{name:Pt.spanCountPerMin,tooltip:"Number of spans per minute in a group"},{name:Pt.spanErrorCount,tooltip:'Number of spans with span.status_code = "error"'},{name:Pt.spanErrorPct,tooltip:'Percent of spans with span.status_code = "error"'},{name:"p75(".concat(Pt.spanDuration,")"),tooltip:"75th percentile of span.duration"},{name:"max(".concat(Pt.spanDuration,")"),tooltip:"Max span.duration"},{name:"uniq(".concat(Pt.enduserId,")"),tooltip:"Number of distinct enduser.id"}],Lo=Object(r["defineComponent"])({name:"AggFilterMenu",components:{SimpleSuggestions:_o,UqlChip:vr},props:{uql:{type:Object,required:!0},axiosParams:{type:Object,required:!0}},setup:function(e){var t=l(),a=t.route,n=Object(r["shallowRef"])(!1),o=Object(r["shallowRef"])(),s=Object(r["shallowRef"])(),u=Object(r["shallowRef"])(),c=Object(r["shallowRef"])(!1),d={func:[Co],column:[b]},p=to((function(){var t;if(!n.value)return null;var r=a.value.params.projectId;return{url:"/api/tracing/".concat(r,"/suggestions/attributes"),params:Object(x["a"])(Object(x["a"])({},e.axiosParams),{},{func:null===(t=o.value)||void 0===t?void 0:t.value})}}),{suggestSearchInput:!0}),v=Object(r["computed"])((function(){var e,t=[],a=Object(i["a"])(Eo);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push({value:n,text:n+"(...)"})}}catch(r){a.e(r)}finally{a.f()}return t}));function m(){if(o.value&&s.value){var e="".concat(o.value.value,"(").concat(s.value.text,")");f(e),o.value=void 0,s.value=void 0,u.value.resetValidation()}}function f(t){var a=e.uql.createEditor();a.add(t),e.uql.commitEdits(a),n.value=!1}function b(e){var t=Boolean(o.value&&e);return t||"Column is required"}return{menu:n,form:u,isValid:c,rules:d,suggestions:p,aggColumns:Mo,func:o,funcItems:v,column:s,addFilter:m,aggBy:f}}}),No=Lo,Do=(a("1744"),Object(ge["a"])(No,Ro,Io,!1,null,"7b2d6b85",null)),$o=Do.exports;xe()(Do,{VAutocomplete:Fr["a"],VBtn:Pe["a"],VCard:qe["a"],VCardText:Te["b"],VCol:wt["a"],VDivider:Po["a"],VForm:Xr["a"],VIcon:Ie["a"],VMenu:Xe["a"],VRow:kt["a"],VSpacer:Ee["a"]});var Bo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"v-btn--filter",attrs:{text:"",disabled:e.disabled}},"v-btn",r,!1),n),[a("span",[e._v("Group by")]),a("v-icon",{staticClass:"ml-0",attrs:{right:""}},[e._v("mdi-menu-down")])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.addFilter.apply(null,arguments)}},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("v-card",{attrs:{width:"400px"}},[a("v-card-text",{staticClass:"py-6"},[a("v-row",[a("v-col",{staticClass:"space-around no-transform"},e._l(e.groupColumns,(function(t){return a("UqlChip",{key:t,attrs:{uql:e.uql,group:t},on:{click:function(t){e.menu=!1}}})})),1)],1),a("div",{staticClass:"mt-2 mb-3 d-flex align-center"},[a("v-divider"),a("div",{staticClass:"mx-2 grey--text text--lighten-1"},[e._v("or")]),a("v-divider")],1),a("v-row",{staticClass:"mb-n1"},[a("v-col",[e._v("Select a grouping column.")])],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("SimpleSuggestions",{staticClass:"fit",attrs:{loading:e.suggestions.loading,suggestions:e.suggestions,rules:e.rules.column,label:"Column",dense:""},model:{value:e.column,callback:function(t){e.column=t},expression:"column"}})],1)],1),a("v-row",[a("v-spacer"),a("v-col",{attrs:{cols:"auto"}},[a("v-btn",{staticClass:"primary",attrs:{type:"submit",disabled:!e.isValid}},[e._v("Group by")])],1)],1)],1)],1)],1)],1)},Ao=[],Fo=[Pt.spanGroupId,Pt.serviceName,Pt.hostName,Pt.dbOperation],Go=Object(r["defineComponent"])({name:"GroupByMenu",components:{SimpleSuggestions:_o,UqlChip:vr},props:{uql:{type:Object,required:!0},axiosParams:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){var t=l(),a=t.route,n=Object(r["shallowRef"])(!1),o=Object(r["shallowRef"])(),s=Object(r["shallowRef"])(),i=Object(r["shallowRef"])(!1),u={column:[Co]},c=to((function(){if(!n.value)return null;var t=a.value.params.projectId;return{url:"/api/tracing/".concat(t,"/suggestions/attributes"),params:e.axiosParams}}),{suggestSearchInput:!0});function d(){o.value&&(p(o.value.text),o.value=void 0,s.value.resetValidation())}function p(t){var a=e.uql.createEditor();a.replaceGroupBy(t),e.uql.commitEdits(a),n.value=!1}return{menu:n,form:s,isValid:i,rules:u,suggestions:c,groupColumns:Fo,column:o,addFilter:d}}}),Xo=Go,Uo=(a("0a67"),Object(ge["a"])(Xo,Bo,Ao,!1,null,"2c0927e0",null)),Ho=Uo.exports;xe()(Uo,{VBtn:Pe["a"],VCard:qe["a"],VCardText:Te["b"],VCol:wt["a"],VDivider:Po["a"],VForm:Xr["a"],VIcon:Ie["a"],VMenu:Xe["a"],VRow:kt["a"],VSpacer:Ee["a"]});var Qo=Object(r["defineComponent"])({name:"SpanFilters",components:{SearchFilterMenu:Hr,DurationFilterMenu:Zr,AttrFilterMenu:mo,WhereFilterMenu:To,AggFilterMenu:$o,GroupByMenu:Ho},props:{uql:{type:Object,required:!0},systems:{type:Object,required:!0},axiosParams:{type:Object,required:!0}},setup:function(e){function t(){var t=e.uql.createEditor();t.reset(),e.uql.commitEdits(t)}return{xkey:Pt,reset:t}}}),Wo=Qo,Ko=(a("ce7b"),Object(ge["a"])(Wo,Mr,Lr,!1,null,"c58aae96",null)),zo=Ko.exports;xe()(Ko,{VBtn:Pe["a"],VDivider:Po["a"]});var Jo=Object(r["defineComponent"])({name:"Tracing",components:{DateRangePicker:nt,SystemPicker:Gn,HelpCard:Vt,UptraceQuery:Er,SpanFilters:zo},setup:function(){Object(y["useTitle"])("Explore spans");var e=Q();e.syncQuery();var t=oe(e),a=Sa({query:Ra(Pt.spanGroupId),syncQuery:!0}),n=Object(r["computed"])((function(){return Object(x["a"])(Object(x["a"])(Object(x["a"])({},e.axiosParams()),a.axiosParams()),{},{system:t.activeValue})}));return{dateRange:e,systems:t,uql:a,axiosParams:n}}}),Zo=Jo,Yo=(a("e355"),Object(ge["a"])(Zo,tr,ar,!1,null,"83048eac",null)),es=Yo.exports;xe()(Yo,{VCol:wt["a"],VContainer:yt["a"],VRow:kt["a"],VTab:Me["a"],VTabs:Ne["a"]});var ts=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("XPlaceholder",{scopedSlots:e._u(["invalid_query"===e.explore.errorCode?{key:"placeholder",fn:function(){return[a("v-row",[a("v-col",[a("v-banner",[a("v-icon",{attrs:{slot:"icon",color:"error",size:"36"},slot:"icon"},[e._v("mdi-alert-circle")]),a("span",{staticClass:"subtitle-1 text--secondary"},[e._v(e._s(e.explore.errorMessage))])],1),e.explore.query?a("XCode",{attrs:{code:e.explore.query,language:"sql"}}):e._e()],1)],1)]},proxy:!0}:null],null,!0)},[a("v-row",[a("v-col",[a("v-card",{staticClass:"mb-4",attrs:{rounded:"lg",outlined:""}},[a("v-toolbar",{attrs:{flat:"",color:"light-blue lighten-5"}},[a("v-toolbar-title",[a("span",[e._v("Groups")])]),a("v-spacer"),a("div",{staticClass:"text-body-2 blue-grey--text text--darken-3"},[a("strong",[a("XNum",{attrs:{value:e.explore.pager.numItem,verbose:""}})],1),e._v(" groups ")])],1),a("v-card-text",[a("v-slide-group",{staticClass:"mb-4",attrs:{multiple:"","center-active":"","show-arrows":""},model:{value:e.activeColumns,callback:function(t){e.activeColumns=t},expression:"activeColumns"}},e._l(e.explore.plotColumns,(function(t,n){return a("v-slide-item",{key:t.name,attrs:{value:t.name},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.active,s=r.toggle;return[a("v-btn",{class:{"ml-1":n>0},staticStyle:{"text-transform":"none"},attrs:{"input-value":o,"active-class":"blue white--text",small:"",depressed:"",rounded:""},on:{click:s}},[e._v(" "+e._s(t.name)+" ")])]}}],null,!0)})})),1),a("GroupsTable",{attrs:{"date-range":e.dateRange,systems:e.systems,uql:e.uql,loading:e.explore.loading,items:e.explore.pageItems,columns:e.explore.columns,"group-columns":e.explore.groupColumns,"plot-columns":e.activeColumns,order:e.explore.order,"axios-params":e.axiosParams}})],1)],1),a("XPagination",{attrs:{pager:e.explore.pager}})],1)],1)],1)},as=[],ns=a("b1cb");function rs(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Ia(null!==(t=n.pager)&&void 0!==t?t:{perPage:10}),s=Ea(null!==(a=n.order)&&void 0!==a?a:{column:Pt.spanCountPerMin,desc:!0}),i=re((function(){return e()}),{ignoreErrors:!0}),c=i.loading,l=i.error,d=i.data,p=Object(r["computed"])((function(){var e,t;return null!==(e=null===(t=d.value)||void 0===t?void 0:t.groups)&&void 0!==e?e:[]})),v=Object(r["computed"])((function(){if(!s.column)return p.value;var e=os(s.column);return Object(u["orderBy"])(p.value,(function(t){var a=t[s.column];return e?new Date(a):a}),s.desc?"desc":"asc")})),m=Object(r["computed"])((function(){var e=v.value.slice(o.pos.start,o.pos.end);return e})),f=Object(r["computed"])((function(){var e;return null===(e=d.value)||void 0===e?void 0:e.queryParts})),b=Object(r["computed"])((function(){var e,t,a=null!==(e=null===(t=d.value)||void 0===t?void 0:t.columns)&&void 0!==e?e:[];return a})),h=Object(r["computed"])((function(){return b.value.filter((function(e){return e.isGroup}))})),g=Object(r["computed"])((function(){return b.value.filter((function(e){return e.isNum}))})),y=Object(r["computed"])((function(){var e,t,a,n;return null!==(e=null===(t=l.value)||void 0===t||null===(a=t.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)&&void 0!==e?e:""})),x=Object(r["computed"])((function(){var e,t,a,n;return null!==(e=null===(t=l.value)||void 0===t||null===(a=t.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.code)&&void 0!==e?e:""})),O=Object(r["computed"])((function(){var e,t,a,n;return Object(ns["format"])(null!==(e=null===(t=l.value)||void 0===t||null===(a=t.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.query)&&void 0!==e?e:"")}));return Object(r["watch"])(p,(function(e){o.numItem=e.length}),{immediate:!0,flush:"pre"}),Object(r["proxyRefs"])({pager:o,order:s,loading:c,items:v,pageItems:m,queryParts:f,columns:b,groupColumns:h,plotColumns:g,error:l,errorCode:x,errorMessage:y,query:O})}function os(e){return e===Pt.spanTime||ss(e,"time")||ss(e,"date")}function ss(e,t){return e.endsWith("."+t)||e.endsWith("_"+t)}var is=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-simple-table",{staticClass:"v-data-table--narrow",attrs:{dense:e.dense}},[a("colgroup",[e.hasGroupName?a("col",{staticClass:"target"}):e._e(),e.showSystemColumn?a("col"):e._e(),e._l(e.customColumns,(function(e){return a("col",{key:e.name})})),a("col")],2),e.items.length?a("thead",{staticClass:"v-data-table-header"},[a("tr",[e.hasGroupName?a("th",{staticClass:"target text-no-wrap"},[a("span",[e._v("Group Name")])]):e._e(),e.showSystemColumn?a("ThOrder",{attrs:{value:e.xkey.spanSystem,order:e.order}},[e._v("System")]):e._e(),e._l(e.customColumns,(function(t){return a("ThOrder",{key:t.name,attrs:{value:t.name,order:e.order,align:t.isNum?"center":"start"}},[a("span",[e._v(e._s(e.columnHeader(t)))])])})),e.hasTimeColumn?a("ThOrder",{attrs:{value:"max("+e.xkey.spanTime+")",order:e.order}},[e._v(" Time ")]):e._e(),a("th")],2)]):e._e(),a("thead",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[a("tr",{staticClass:"v-data-table__progress"},[a("th",{staticClass:"column",attrs:{colspan:"99"}},[a("v-progress-linear",{attrs:{height:"2",absolute:"",indeterminate:""}})],1)])]),e.items.length?e._e():a("tbody",[a("tr",{staticClass:"v-data-table__empty-wrapper"},[a("td",{attrs:{colspan:"99"}},[e._v("There are no matching groups.")])])]),a("tbody",[e._l(e.items,(function(t){return[a("tr",{key:t[e.xkey.itemId],staticClass:"cursor-pointer",on:{click:function(a){return e.groupViewer.toggle(t[e.xkey.itemId])}}},[e.hasGroupName?a("td",{staticClass:"target"},[a("span",[e._v(e._s(e.itemName(t)))])]):e._e(),e.showSystemColumn?a("td",[a("router-link",{attrs:{to:e.systemRoute(t)},nativeOn:{click:function(e){e.stopPropagation()}}},[e._v(e._s(t[e.xkey.spanSystem]))])],1):e._e(),e._l(e.customColumns,(function(n){return a("td",{key:n.name},[n.isNum?a("div",{staticClass:"d-flex align-center justify-center"},[e.plotColumns.indexOf(n.name)>=0?a("LoadGroupSparkline",{staticClass:"mr-2",attrs:{"axios-params":e.axiosParams,where:e.groupBasedWhere(t),column:n.name}}):e._e(),a("XNum",{attrs:{value:t[n.name],name:n.name}})],1):a("span",[e._v(e._s(t[n.name]))])])})),e.hasTimeColumn?a("td",{staticClass:"text-no-wrap"},[e._t("time",(function(){return[a("XDate",{attrs:{date:t["max("+e.xkey.spanTime+")"],format:"relative"}})]}),{item:t})],2):e._e(),a("td",{staticClass:"text-center text-no-wrap"},[a("v-btn",{attrs:{icon:"",title:"Focus on this group",to:e.spanListRoute(t),exact:""},nativeOn:{click:function(e){e.stopPropagation()}}},[a("v-icon",[e._v("mdi-filter-variant")])],1),e.groupViewer.visible(t[e.xkey.itemId])?a("v-btn",{attrs:{icon:"",title:"Hide spans"},on:{click:function(a){return a.stopPropagation(),e.groupViewer.hide(t[e.xkey.itemId])}}},[a("v-icon",{attrs:{size:"30"}},[e._v("mdi-chevron-up")])],1):a("v-btn",{attrs:{icon:"",title:"View spans"},on:{click:function(a){return a.stopPropagation(),e.groupViewer.show(t[e.xkey.itemId])}}},[a("v-icon",{attrs:{size:"30"}},[e._v("mdi-chevron-down")])],1)],1)],2),e.groupViewer.visible(t[e.xkey.itemId])?a("tr",{key:t[e.xkey.itemId]+"-spans",staticClass:"v-data-table__expanded v-data-table__expanded__content"},[a("td",{staticClass:"px-6 pt-3 pb-4",attrs:{colspan:"99"}},[a("SpanListInline",{attrs:{"date-range":e.dateRange,systems:e.systems,uql:e.uql,"axios-params":e.axiosParams,where:e.groupBasedWhere(t)}})],1)]):e._e()]}))],2)])],1)},us=[],cs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("SparklineChart",{attrs:{name:e.column,line:e.line,time:e.time}})},ls=[],ds=Object(r["defineComponent"])({name:"LoadGroupSparkline",components:{SparklineChart:mn},props:{axiosParams:{type:Object,required:!0},where:{type:String,required:!0},column:{type:String,required:!0}},setup:function(e){var t=l(),a=t.route,n=re((function(){var t=a.value.params.projectId,n=e.where+" | "+e.axiosParams.query;return{url:"/api/tracing/".concat(t,"/stats"),params:Object(x["a"])(Object(x["a"])({},e.axiosParams),{},{query:n,column:e.column})}})),o=n.data,s=Object(r["computed"])((function(){var t;return o.value&&null!==(t=o.value[e.column])&&void 0!==t?t:[]})),i=Object(r["computed"])((function(){var e,t;return null!==(e=null===(t=o.value)||void 0===t?void 0:t.time)&&void 0!==e?e:[]}));return{line:s,time:i}}}),ps=ds,vs=Object(ge["a"])(ps,cs,ls,!1,null,null,null),ms=vs.exports,fs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("SpansTable",e._g({staticClass:"mb-4",attrs:{"date-range":e.dateRange,loading:e.spans.loading,spans:e.spans.items,order:e.spans.order,pager:e.spans.pager}},e.listeners)),a("XPagination",{attrs:{pager:e.spans.pager}})],1)},bs=[];function hs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Ia(t.pager),n=Ea(t.order),o=re((function(){var t=e();return t?(t.params=Object(x["a"])(Object(x["a"])(Object(x["a"])({},t.params),n.axiosParams),a.axiosParams()),t):t})),s=o.loading,i=o.data,u=Object(r["computed"])((function(){var e,t,a=null!==(e=null===(t=i.value)||void 0===t?void 0:t.spans)&&void 0!==e?e:[];return a})),c=Object(r["computed"])((function(){var e;return null===(e=i.value)||void 0===e?void 0:e.queryParts}));return Object(r["watch"])(i,(function(e){var t;a.numItem=null!==(t=null===e||void 0===e?void 0:e.count)&&void 0!==t?t:0}),{immediate:!0,flush:"sync"}),Object(r["proxyRefs"])({pager:a,order:n,loading:s,items:u,queryParts:c})}var gs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-simple-table",[a("thead",{staticClass:"v-data-table-header"},[a("tr",[a("th",[e._v("Span Name")]),a("th"),e._l(e.columns,(function(t){return a("ThOrder",{key:t,attrs:{value:t,order:e.order}},[a("span",[e._v(e._s(t))])])})),a("ThOrder",{attrs:{value:e.xkey.spanTime,order:e.order}},[e._v("Time")]),a("ThOrder",{attrs:{value:e.xkey.spanDuration,order:e.order,align:"end"}},[a("span",[e._v("Dur.")])])],2)]),e.loading?a("thead",[a("tr",{staticClass:"v-data-table__progress"},[a("th",{staticClass:"column",attrs:{colspan:"99"}},[a("v-progress-linear",{attrs:{height:"2",absolute:"",indeterminate:""}})],1)])]):e._e(),e.spans.length?e._e():a("tbody",[a("tr",{staticClass:"v-data-table__empty-wrapper"},[a("td",{attrs:{colspan:"99"}},[e._v("There are no spans for the selected date range and filters.")])])]),a("tbody",[e._l(e.spans,(function(t){return[a("tr",{key:"a-"+t.id,staticClass:"cursor-pointer",on:{click:function(a){return e.dialog.showSpan(t)}}},[a("td",[a("span",[e._v(e._s(e.eventOrSpanName(t)))])]),a("td",[a("SpanChips",{attrs:{span:t,clickable:"click:chip"in e.$listeners},on:{"click:chip":function(t){return e.$emit("click:chip",t)}}})],1),a("td",{staticClass:"text-no-wrap"},[a("XDate",{attrs:{date:t.time,format:"relative"}})],1),a("td",{staticClass:"text-right"},[a("XDuration",{attrs:{duration:t.duration,fixed:""}})],1)])]}))],2)]),a("v-dialog",{attrs:{"max-width":"1280"},model:{value:e.dialog.dialog,callback:function(t){e.$set(e.dialog,"dialog",t)},expression:"dialog.dialog"}},[a("v-sheet",[e.dialog.activeSpan?a("SpanCard",{key:e.dialog.activeSpan[e.xkey.spanId],attrs:{"date-range":e.dateRange,span:e.dialog.activeSpan,fluid:"","show-toolbar":""}}):e._e()],1)],1)],1)},ys=[],xs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("PageToolbar",{attrs:{fluid:e.fluid}},[e.meta.external?a("v-icon",{staticClass:"mr-2"},[e._v("mdi-link-variant")]):e._e(),a("v-breadcrumbs",{attrs:{items:e.meta.breadcrumbs,divider:">",large:""},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[a("v-breadcrumbs-item",{attrs:{to:n.to,exact:n.exact}},[e._v(" "+e._s(n.text)+" ")])]}}])})],1),a("v-container",{staticClass:"py-4",attrs:{fluid:e.fluid}},[a("v-row",{staticClass:"px-4 text-subtitle-1"},[a("v-col",[e.span.eventName?[a("span",[e._v(e._s(e.span.eventName))]),e.span.name?[a("span",{staticClass:"mx-2"},[e._v(" • ")]),a("span",[e._v(e._s(e.spanName(e.span,1e3)))])]:e._e()]:a("span",[e._v(e._s(e.spanName(e.span,1e3)))])],2)],1),a("v-row",{staticClass:"px-4 text-subtitle-2 text-center",attrs:{align:"end"}},[e.span.kind?a("v-col",{attrs:{cols:"auto"}},[a("div",{staticClass:"grey--text font-weight-regular"},[e._v("Kind")]),a("div",[e._v(e._s(e.span.kind))])]):e._e(),e.span.statusCode?a("v-col",{attrs:{cols:"auto"}},[a("div",{staticClass:"grey--text font-weight-regular"},[e._v("Status")]),a("div",{class:{"error--text":"error"===e.span.statusCode}},[e._v(" "+e._s(e.span.statusCode)+" ")])]):e._e(),a("v-col",{attrs:{cols:"auto"}},[a("div",{staticClass:"grey--text font-weight-regular"},[e._v("Time")]),e.span.time?a("XDate",{attrs:{date:e.span.time,format:"full"}}):e._e()],1),a("v-col",{attrs:{cols:"auto"}},[a("div",{staticClass:"grey--text font-weight-regular"},[e._v("Duration")]),a("XDuration",{attrs:{duration:e.span.duration,fixed:""}})],1),a("v-col",{attrs:{cols:"auto"}},[a("div",{staticClass:"mb-0"},[e.meta.traceRoute?a("v-btn",{attrs:{depressed:"",small:"",to:e.meta.traceRoute,exact:""}},[e._v(" View trace ")]):e._e(),"GroupList"!==e.$route.name?a("v-btn",{staticClass:"ml-2",attrs:{depressed:"",small:"",to:e.meta.groupRoute,exact:""}},[e._v(" View group ")]):e._e()],1)])],1),a("v-row",[a("v-col",[a("v-sheet",{attrs:{outlined:"",rounded:"lg"}},[a("v-tabs",{staticClass:"light-blue lighten-5",attrs:{"background-color":"transparent"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("v-tab",{attrs:{href:"#attrs"}},[e._v("Attrs")]),e.dbStatement?a("v-tab",{attrs:{href:"#dbStatement"}},[e._v("SQL")]):e._e(),e.dbStatementPretty?a("v-tab",{attrs:{href:"#dbStatementPretty"}},[e._v("SQL pretty")]):e._e(),e.excStacktrace?a("v-tab",{attrs:{href:"#excStacktrace"}},[e._v("Stacktrace")]):e._e(),e.span.events&&e.span.events.length?a("v-tab",{attrs:{href:"#events"}},[e._v(" Events ("+e._s(e.span.events.length)+") ")]):e._e(),e.span.groupId?a("v-tab",{attrs:{href:"#pctile"}},[e._v("Percentiles")]):e._e()],1),a("v-tabs-items",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("v-tab-item",{staticClass:"pa-4",attrs:{value:"attrs"}},[a("AttrTable",{attrs:{"date-range":e.dateRange,attrs:e.span.attrs}})],1),a("v-tab-item",{attrs:{value:"dbStatement"}},[a("XCode",{attrs:{code:e.dbStatement,language:"sql"}})],1),a("v-tab-item",{attrs:{value:"dbStatementPretty"}},[a("XCode",{attrs:{code:e.dbStatementPretty,language:"sql"}})],1),a("v-tab-item",{attrs:{value:"excStacktrace"}},[a("XCode",{attrs:{code:e.excStacktrace}})],1),a("v-tab-item",{attrs:{value:"events"}},[a("EventPanels",{attrs:{"date-range":e.dateRange,events:e.span.events}})],1),a("v-tab-item",{staticClass:"pa-4",attrs:{value:"pctile"}},[a("LoadPctileChart",{attrs:{"axios-params":e.axiosParams}})],1)],1)],1)],1)],1)],1)],1)},Os=[],js=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PctileChart",e._b({attrs:{loading:e.percentiles.loading,data:e.percentiles.data}},"PctileChart",e.$attrs,!1))},_s=[];function Cs(e){var t=re(e),a=t.loading,n=t.data,o=Object(r["computed"])((function(){var e,t;return null!==(e=null===(t=n.value)||void 0===t?void 0:t.count)&&void 0!==e?e:0})),s=Object(r["computed"])((function(){var e,t;return null!==(e=null===(t=n.value)||void 0===t?void 0:t.rate)&&void 0!==e?e:0})),i=Object(r["computed"])((function(){var e,t;return null!==(e=null===(t=n.value)||void 0===t?void 0:t.errorCount)&&void 0!==e?e:0})),u=Object(r["computed"])((function(){var e,t;return null!==(e=null===(t=n.value)||void 0===t?void 0:t.p50)&&void 0!==e?e:0})),c=Object(r["computed"])((function(){var e,t;return null!==(e=null===(t=n.value)||void 0===t?void 0:t.p90)&&void 0!==e?e:0})),l=Object(r["computed"])((function(){var e,t;return null!==(e=null===(t=n.value)||void 0===t?void 0:t.max)&&void 0!==e?e:0}));return Object(r["proxyRefs"])({loading:a,data:n,count:o,rate:s,errorCount:i,p50:u,p90:c,max:l})}var ws=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.charts,(function(t){return a("EChart",{key:t.name,attrs:{loading:e.loading,height:t.height,option:t.option,group:e.chartGroup}})})),1)},ks=[],Ss={count:It["a"].blue.base,rate:It["a"].blue.base,errorCount:It["a"].red.darken1,errorPct:It["a"].red.darken3,p50:It["a"].green.lighten2,p90:It["a"].amber.darken1,p99:It["a"].amber.darken3},Vs=Object(r["defineComponent"])({name:"PctileChart",components:{EChart:on},props:{loading:{type:Boolean,default:!1},data:{type:Object,default:void 0}},setup:function(e){var t=Object(r["computed"])((function(){var t=[];return e.data&&e.data.p50?(t.push(Ps(e.data)),t.push(qs(e.data))):t.push(Rs(e.data)),t}));return{charts:t,chartGroup:Symbol()}}});function Ps(e){var t=sn();un(t,{formatter:cn(sa)}),t.xAxis.push({type:"time",axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},axisPointer:{label:{show:!1}}}),t.yAxis.push({type:"value",axisLabel:{formatter:sa},axisPointer:{label:{formatter:function(e){return sa(e.value)}}},splitNumber:4,splitLine:{show:!1}}),t.dataset.push({source:e});for(var a=[{name:"p50",color:Ss.p50},{name:"p90",color:Ss.p90},{name:"p99",color:Ss.p99}],n=0,r=a;n<r.length;n++){var o=r[n];e[o.name]&&t.series.push({name:o.name,type:"line",symbol:"none",itemStyle:{color:o.color},areaStyle:{color:new Wa["a"].LinearGradient(0,0,0,1,[{offset:0,color:o.color},{offset:1,color:"#ffe"}])},encode:{x:"time",y:o.name}})}return t.legend.push({type:"scroll",width:"90%",data:["p50","p90","p99"],selected:{p50:!0,p90:!0,p99:!1}}),t.grid.push({top:30,left:45,right:30,height:65}),{name:"pctile",height:100,option:t}}function qs(e){var t=sn();return un(t,{formatter:cn((function(e){return String(e)}))}),t.xAxis.push({type:"time",axisPointer:{label:{formatter:function(e){return D(e.value)}}},splitNumber:5}),t.yAxis.push({type:"value",axisLabel:{},axisPointer:{label:{}},splitNumber:4,splitLine:{show:!1}}),e&&(t.dataset.push({source:{time:e.time,rate:e.rate}}),t.series.push({datasetIndex:t.dataset.length-1,name:"count per min",type:"line",symbol:"none",itemStyle:{color:Ss.count},areaStyle:{color:new Wa["a"].LinearGradient(0,0,0,1,[{offset:0,color:Ss.count},{offset:1,color:"#ffe"}])},encode:{x:"time",y:"rate"}}),Ts(t,e)),t.grid.push({top:15,left:45,right:30,height:60}),{name:"rate",height:100,option:t}}function Ts(e,t){e.dataset.push({source:{time:t.time,errorRate:t.errorRate}}),e.series.push({datasetIndex:e.dataset.length-1,name:"errors per min",type:"line",symbol:"none",itemStyle:{color:Ss.errorCount},encode:{x:"time",y:"errorRate"}})}function Rs(e){var t=sn();return un(t),t.xAxis.push({type:"time",axisPointer:{label:{formatter:function(e){return D(e.value)}}},splitNumber:5}),t.yAxis.push({type:"value",splitNumber:4,splitLine:{show:!1}}),e&&(t.dataset.push({source:{time:e.time,rate:e.rate}}),t.series.push({name:"events per min",type:"bar",itemStyle:{color:Ss.count},encode:{x:"time",y:"rate"}})),t.grid.push({top:15,left:45,right:30,height:120}),{name:"rate",height:160,option:t}}var Is=Vs,Es=Object(ge["a"])(Is,ws,ks,!1,null,"495c4c38",null),Ms=Es.exports,Ls=Object(r["defineComponent"])({name:"LoadPctileChart",components:{PctileChart:Ms},props:{axiosParams:{type:Object,required:!0}},setup:function(e){var t=l(),a=t.route,n=Cs((function(){var t=a.value.params.projectId;return{url:"/api/tracing/".concat(t,"/percentiles"),params:e.axiosParams}}));return{percentiles:n}}}),Ns=Ls,Ds=Object(ge["a"])(Ns,js,_s,!1,null,"c1b2e998",null),$s=Ds.exports,Bs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-simple-table",{staticClass:"v-data-table--border table-scroll-target"},[a("colgroup",[a("col"),a("col")]),a("thead",{staticClass:"v-data-table-header"},[a("tr",[a("th",[e._v("Key")]),a("th",{staticClass:"target"},[e._v("Value")])])]),e.attrKeys.length?e._e():a("tbody",[a("tr",{staticClass:"v-data-table__empty-wrapper"},[a("td",{attrs:{colspan:"99"}},[e._v("There are no attributes matching the filters.")])])]),a("tbody",e._l(e.attrKeys,(function(t){return a("tr",{key:t},[a("th",[e._v(e._s(t))]),a("td",[a("XText",{attrs:{name:t,value:e.attrs[t]}})],1)])})),0)])],1)},As=[],Fs=Object(r["defineComponent"])({name:"AttrTable",props:{attrs:{type:Object,required:!0}},setup:function(e){var t=Object(r["computed"])((function(){var t=Object.keys(e.attrs);return t.sort(),t}));return{xkey:Pt,attrKeys:t}}}),Gs=Fs,Xs=Object(ge["a"])(Gs,Bs,As,!1,null,"42287b72",null),Us=Xs.exports;xe()(Xs,{VSimpleTable:gn["a"]});var Hs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-expansion-panels",{attrs:{flat:e.flat,multiple:""},model:{value:e.panels,callback:function(t){e.panels=t},expression:"panels"}},e._l(e.events,(function(t,n){return a("v-expansion-panel",{key:n},[a("v-expansion-panel-header",{staticClass:"user-select-text"},[a("span",[a("XDate",{staticClass:"mr-5 text-caption",attrs:{date:t.time,format:"time"}}),a("span",[e._v(e._s(t.eventName))])],1)]),a("v-expansion-panel-content",[a("EventPanelContent",{attrs:{"date-range":e.dateRange,event:t}})],1)],1)})),1)},Qs=[],Ws=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._e(),a("AttrTable",{staticClass:"mt-4",attrs:{"date-range":e.dateRange,attrs:e.event.attrs}})],1)},Ks=[],zs=Object(r["defineComponent"])({name:"EventPanelContent",components:{PctileChart:Ms,AttrTable:Us},props:{dateRange:{type:Object,required:!0},event:{type:Object,required:!0}},setup:function(e){var t=Cs((function(){return{url:"/api/v1/tracing/percentiles",params:Object(x["a"])({group_id:void 0},e.dateRange.axiosParams())}}));return{percentiles:t}}}),Js=zs,Zs=Object(ge["a"])(Js,Ws,Ks,!1,null,"2483f260",null),Ys=Zs.exports,ei=Object(r["defineComponent"])({name:"EventPanels",components:{EventPanelContent:Ys},props:{dateRange:{type:Object,required:!0},events:{type:Array,required:!0},flat:{type:Boolean,default:!1}},setup:function(e,t){var a=t.emit,n=Object(r["ref"])([]);return Object(r["watch"])((function(){return e.events}),(function(e){1===e.length?n.value=[0]:n.value=[]}),{immediate:!0}),{xkey:Pt,panels:n,emit:a}}}),ti=ei,ai=a("464e"),ni=a("5952"),ri=a("8073"),oi=a("fec5"),si=Object(ge["a"])(ti,Hs,Qs,!1,null,"340e7bd7",null),ii=si.exports;function ui(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return e.eventName?Object(u["truncate"])(e.eventName,{length:t}):ci(e,t)}function ci(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return Object(u["truncate"])(e.name,{length:t})}xe()(si,{VExpansionPanel:ai["a"],VExpansionPanelContent:ni["a"],VExpansionPanelHeader:ri["a"],VExpansionPanels:oi["a"]});var li=Object(r["defineComponent"])({name:"SpanCard",components:{AttrTable:Us,EventPanels:ii,LoadPctileChart:$s},props:{dateRange:{type:Object,required:!0},span:{type:Object,required:!0},fluid:{type:Boolean,default:!1}},setup:function(e){var t=Object(r["ref"])("attrs"),a=Object(r["computed"])((function(){return Object(x["a"])(Object(x["a"])({},e.dateRange.axiosParams()),{},{system:e.span.system,group_id:e.span.groupId})})),n=Object(r["computed"])((function(){var t;return null!==(t=e.span.attrs[Pt.dbStatement])&&void 0!==t?t:""})),o=Object(r["computed"])((function(){return Object(ns["format"])(n.value)})),s=Object(r["computed"])((function(){var t;return null!==(t=e.span.attrs[Pt.exceptionStacktrace])&&void 0!==t?t:""}));return{xkey:Pt,meta:di(e),activeTab:t,axiosParams:a,dbStatement:n,dbStatementPretty:o,excStacktrace:s,spanName:ci}}});function di(e){var t=l(),a=t.route,n=Object(r["computed"])((function(){return e.span.traceId?"TraceShow"===a.value.name&&a.value.params.traceId===e.span.traceId?null:{name:"TraceShow",params:{traceId:e.span.traceId}}:null})),o=Object(r["computed"])((function(){return{name:"GroupList",query:Object(x["a"])(Object(x["a"])({},e.dateRange.queryParams()),{},{system:e.span.system,where:"".concat(Pt.spanGroupId,' = "').concat(e.span.groupId,'"')})}})),s=Object(r["computed"])((function(){var t=[];return t.push({text:e.span.system,to:{name:"GroupList",query:Object(x["a"])(Object(x["a"])({},e.dateRange.queryParams()),{},{system:e.span.system})},exact:!0}),t.push({text:Object(u["truncate"])(e.span.name,{length:50}),to:{name:"GroupList",query:Object(x["a"])(Object(x["a"])({},e.dateRange.queryParams()),{},{system:e.span.system,where:"".concat(Pt.spanGroupId,' = "').concat(e.span.groupId,'"')})},exact:!0}),e.span.traceId&&t.push({text:e.span.traceId,to:{name:"TraceShow",params:{traceId:e.span.traceId}},exact:!0}),e.span.traceId&&e.span.id&&t.push({text:e.span.id,to:{name:"SpanShow",params:{traceId:e.span.traceId,spanId:e.span.id}},exact:!0}),t}));return Object(r["proxyRefs"])({groupRoute:o,traceRoute:n,breadcrumbs:s})}var pi=li,vi=a("b6e1"),mi=a("86c2"),fi=Object(ge["a"])(pi,xs,Os,!1,null,"4ebb40f4",null),bi=fi.exports;xe()(fi,{VBreadcrumbs:vi["a"],VBreadcrumbsItem:mi["a"],VBtn:Pe["a"],VCol:wt["a"],VContainer:yt["a"],VIcon:Ie["a"],VRow:kt["a"],VSheet:nn["a"],VTab:Me["a"],VTabItem:Le["a"],VTabs:Ne["a"],VTabsItems:De["a"]});var hi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",["error"===e.span.statusCode?a("v-btn",{staticClass:"mr-1",class:{"cursor-default":!e.clickable},attrs:{icon:"",title:e.xkey.spanStatusCode+" = 'error'"},on:{click:function(t){return t.stopPropagation(),e.$emit("click:chip",{key:e.xkey.spanStatusCode,value:"error"})}}},[a("v-icon",{attrs:{color:"error"}},[e._v(" mdi-alert-circle-outline ")])],1):e._e(),e._l(e.chips,(function(t,n){return a("v-chip",{key:t.key,class:{"ml-1":n>0,"mb-1":n>0,"cursor-default":!e.clickable},attrs:{color:"light-blue lighten-5",label:"",small:"",title:t.key+": "+t.value},on:{click:function(a){return a.stopPropagation(),e.$emit("click:chip",t)}}},[e._v(" "+e._s(t.text)+" ")])})),e.events.length?a("v-chip",{staticClass:"ml-1",attrs:{color:"blue lighten-5",label:"",small:""}},[a("strong",{staticClass:"mr-1"},[e._v(e._s(e.events.length))]),a("span",[e._v(e._s(1===e.events.length?"event":"events"))])]):e._e()],2)},gi=[],yi=Object(r["defineComponent"])({name:"SpanChips",props:{span:{type:Object,required:!0},showOperation:{type:Boolean,default:!1},traceMode:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1}},setup:function(e){var t=Object(r["computed"])((function(){var t,a;return null!==(t=null===(a=e.span)||void 0===a?void 0:a.events)&&void 0!==t?t:[]})),a=Object(r["computed"])((function(){if(e.traceMode)return xi(e.span.attrs);var t=[],a=e.span.attrs[Pt.serviceName];return a&&t.push({key:Pt.serviceName,value:a,text:a}),ji(t,e.span.attrs),_i(t,e.span.attrs),t}));return{xkey:Pt,events:t,chips:a}}});function xi(e){var t=[];return Oi(t,e),ji(t,e),_i(t,e),t}function Oi(e,t){var a=t[Pt.spanSystem];a&&a!==Pt.internalSystem&&e.push({key:Pt.spanSystem,value:a,text:a})}function ji(e,t){var a=t[Pt.spanKind];a&&"internal"!==a&&e.push({key:Pt.spanKind,value:a,text:a})}function _i(e,t){var a=t[Pt.httpStatusCode];"number"===typeof a&&0!=a&&(a<200||a>=300)&&e.push({key:Pt.httpStatusCode,value:a,text:String(a)})}var Ci=yi,wi=(a("6de3"),Object(ge["a"])(Ci,hi,gi,!1,null,"eb89dde8",null)),ki=wi.exports;xe()(wi,{VBtn:Pe["a"],VChip:dr["a"],VIcon:Ie["a"]});var Si=Object(r["defineComponent"])({name:"SpansTable",components:{ThOrder:Ua,SpanChips:ki,SpanCard:bi},props:{dateRange:{type:Object,required:!0},loading:{type:Boolean,required:!0},spans:{type:Array,required:!0},pager:{type:Object,required:!0},order:{type:Object,required:!0},columns:{type:Array,default:function(){return[]}}},setup:function(e){function t(){Object(r["nextTick"])((function(){e.order.desc=!0}))}return{xkey:Pt,dialog:Vi(),eventOrSpanName:ui,onSortBy:t}}});function Vi(){var e=Object(r["shallowRef"])(!1),t=Object(r["shallowRef"])();function a(a){t.value=a,e.value=!0}return Object(r["proxyRefs"])({dialog:e,activeSpan:t,showSpan:a})}var Pi=Si,qi=Object(ge["a"])(Pi,gs,ys,!1,null,"00a64d6c",null),Ti=qi.exports;xe()(qi,{VDialog:br["a"],VProgressLinear:hn["a"],VSheet:nn["a"],VSimpleTable:gn["a"]});var Ri=Object(r["defineComponent"])({name:"SpanListInline",components:{SpansTable:Ti},props:{dateRange:{type:Object,required:!0},uql:{type:Object,default:void 0},axiosParams:{type:Object,required:!0},where:{type:String,required:!0}},setup:function(e){var t=l(),a=t.route,n=hs((function(){var t=a.value.params.projectId,n=e.where+" | "+e.axiosParams.query;return{url:"/api/tracing/".concat(t,"/spans"),params:Object(x["a"])(Object(x["a"])({},e.axiosParams),{},{query:n})}}),{order:{column:Pt.spanDuration,desc:!0}}),o=Object(r["computed"])((function(){return e.uql?{"click:chip":s}:{}}));function s(t){var a=e.uql.createEditor();a.where(t.key,"=",t.value),e.uql.commitEdits(a)}return{spans:n,listeners:o,onChipClick:s}}}),Ii=Ri,Ei=Object(ge["a"])(Ii,fs,bs,!1,null,"403e18b2",null),Mi=Ei.exports,Li=(a("b731"),Object(r["defineComponent"])({name:"GroupTable",components:{ThOrder:Ua,LoadGroupSparkline:ms,SpanListInline:Mi},props:{dateRange:{type:Object,required:!0},systems:{type:Object,required:!0},uql:{type:Object,default:void 0},loading:{type:Boolean,required:!0},items:{type:Array,required:!0},columns:{type:Array,required:!0},groupColumns:{type:Array,required:!0},plotColumns:{type:Array,required:!0},order:{type:Object,required:!0},dense:{type:Boolean,default:!1},showDetails:{type:Boolean,default:!1},axiosParams:{type:Object,default:void 0}},setup:function(e){var t=l(),a=t.route,n=Ni(),o=Object(r["computed"])((function(){return p(Pt.spanName)})),s=Object(r["computed"])((function(){return Boolean(e.showDetails&&e.uql)})),u=Object(r["computed"])((function(){return At(e.systems.activeValue)&&p(Pt.spanSystem)})),c=Object(r["computed"])((function(){return p("max(".concat(Pt.spanTime,")"))})),d=Object(r["computed"])((function(){var t=[Pt.spanSystem,"max(".concat(Pt.spanTime,")")];o.value&&t.push(Pt.spanGroupId,Pt.spanName);var a=e.columns.filter((function(e){return-1===t.indexOf(e.name)}));return a}));function p(t){if(!e.items.length)return!1;var a=e.items[0];return t in a}function v(t){var n,r=e.uql.createEditor(),o=Object(i["a"])(e.groupColumns);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=t[s.name];r.where(s.name,"=",u)}}catch(c){o.e(c)}finally{o.f()}return{name:"GroupList",query:Object(x["a"])(Object(x["a"])(Object(x["a"])({},a.value.query),e.systems.axiosParams()),{},{query:r.toString()})}}function m(e){switch(e.name){case Pt.spanErrorCount:return"errors";case Pt.spanErrorPct:return"err%"}var t=e.name.match(/^([0-9a-z]+)\(span\.duration\)$/);if(t)return t[1];var a="span.";return e.name.startsWith(a)?e.name.slice(a.length):e.name}function f(t){var a,n=[],r=Object(i["a"])(e.groupColumns);try{for(r.s();!(a=r.n()).done;){var o=a.value,s=t[o.name];n.push("".concat(o.name," = ").concat(Ca(s)))}}catch(u){r.e(u)}finally{r.f()}return"where ".concat(n.join(" AND "))}function b(e){return{query:Object(x["a"])(Object(x["a"])({},a.value.query),{},{system:e[Pt.spanSystem]})}}return Object(r["watch"])((function(){return e.items}),(function(e){1===e.length&&n.show(e[0][Pt.itemId])}),{immediate:!0}),{xkey:Pt,groupViewer:n,hasGroupName:o,hasDetails:s,showSystemColumn:u,hasTimeColumn:c,customColumns:d,columnHeader:m,spanListRoute:v,groupBasedWhere:f,systemRoute:b,itemName:Di}}}));function Ni(){var e=Object(r["shallowRef"])();function t(t){return e.value===t}function a(e){t(e)?o(e):n(e)}function n(t){e.value=t}function o(t){e.value=void 0}return{visible:t,show:n,hide:o,toggle:a}}function Di(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120,a=e[Pt.spanEventName];if(a)return Object(u["truncate"])(a,{length:t});var n=e[Pt.spanName];return Object(u["truncate"])(n,{length:t})}var $i=Li,Bi=Object(ge["a"])($i,is,us,!1,null,"89e633a4",null),Ai=Bi.exports;xe()(Bi,{VBtn:Pe["a"],VIcon:Ie["a"],VProgressLinear:hn["a"],VSimpleTable:gn["a"]});var Fi=Object(r["defineComponent"])({name:"GroupList",components:{GroupsTable:Ai},props:{dateRange:{type:Object,required:!0},systems:{type:Object,required:!0},uql:{type:Object,required:!0},axiosParams:{type:Object,required:!0}},setup:function(e){var t=l(),a=t.route,n=Object(r["shallowRef"])([]),o=rs((function(){var t=a.value.params.projectId;return{url:"/api/tracing/".concat(t,"/groups"),params:e.axiosParams}}));return Object(r["watch"])((function(){return o.plotColumns}),(function(e){e.length&&!n.value.length&&(n.value=[e[0].name])})),Object(r["watch"])((function(){return o.queryParts}),(function(t){t&&e.uql.syncParts(t)})),{activeColumns:n,explore:o}}}),Gi=Fi,Xi=a("fff9"),Ui=Object(ge["a"])(Gi,ts,as,!1,null,null,null),Hi=Ui.exports;xe()(Ui,{VBanner:Xi["a"],VBtn:Pe["a"],VCard:qe["a"],VCardText:Te["b"],VCol:wt["a"],VIcon:Ie["a"],VRow:kt["a"],VSlideGroup:_n["b"],VSlideItem:Cn["a"],VSpacer:Ee["a"],VToolbar:wn["a"],VToolbarTitle:xt["b"]});var Qi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("XPlaceholder",[a("v-row",[a("v-col",[a("v-card",{staticClass:"mb-4",attrs:{rounded:"lg",outlined:""}},[a("v-toolbar",{attrs:{flat:"",color:"light-blue lighten-5"}},[a("v-toolbar-title",[a("span",[e._v("Spans")])]),a("v-spacer"),a("div",{staticClass:"text-body-2 blue-grey--text text--darken-3"},[a("strong",[a("XNum",{attrs:{value:e.spans.pager.numItem,verbose:""}})],1),e._v(" spans ")])],1),a("v-row",{staticClass:"px-4 pb-4"},[a("v-col",[a("SpansTable",{attrs:{"date-range":e.dateRange,loading:e.spans.loading,spans:e.spans.items,order:e.spans.order,pager:e.spans.pager,system:e.systems.activeValue}})],1)],1)],1),a("XPagination",{attrs:{pager:e.spans.pager}})],1)],1)],1)},Wi=[],Ki=Object(r["defineComponent"])({name:"SpanList",components:{SpansTable:Ti},props:{dateRange:{type:Object,required:!0},systems:{type:Object,required:!0},uql:{type:Object,required:!0},axiosParams:{type:Object,required:!0}},setup:function(e){var t=l(),a=t.route,n=hs((function(){var t=a.value.params.projectId;return{url:"/api/tracing/".concat(t,"/spans"),params:e.axiosParams}}));return Object(r["watch"])((function(){return e.systems.isEvent}),(function(e){n.order.column=e?Pt.spanTime:Pt.spanDuration,n.order.desc=!0}),{immediate:!0}),Object(r["watch"])((function(){return n.queryParts}),(function(t){t&&e.uql.syncParts(t)})),{spans:n}}}),zi=Ki,Ji=Object(ge["a"])(zi,Qi,Wi,!1,null,null,null),Zi=Ji.exports;xe()(Ji,{VCard:qe["a"],VCol:wt["a"],VRow:kt["a"],VSpacer:Ee["a"],VToolbar:wn["a"],VToolbarTitle:xt["b"]});var Yi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("XPlaceholder",{scopedSlots:e._u([e.trace.error?{key:"placeholder",fn:function(){return[e.trace.error?a("TraceError",{attrs:{error:e.trace.error}}):e._e()]},proxy:!0}:e.trace.root?null:{key:"placeholder",fn:function(){return[a("v-container",{attrs:{fluid:e.$vuetify.breakpoint.mdAndDown}},[a("v-skeleton-loader",{attrs:{type:"article, image, table"}})],1)]},proxy:!0}],null,!0)},[a("PageToolbar",{attrs:{loading:e.trace.loading,fluid:e.$vuetify.breakpoint.mdAndDown}},[a("v-breadcrumbs",{attrs:{items:e.meta.breadcrumbs,divider:">",large:""},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[a("v-breadcrumbs-item",{attrs:{to:n.to,exact:n.exact}},[e._v(" "+e._s(n.text)+" ")])]}}])})],1),a("v-container",{staticClass:"py-4",attrs:{fluid:e.$vuetify.breakpoint.mdAndDown}},[e.trace.root?a("v-row",{staticClass:"px-4 text-body-2"},[a("v-col",[e._v(" "+e._s(e.trace.root.name)+" ")])],1):e._e(),e.trace.root?a("v-row",{staticClass:"px-4 text-subtitle-2 text-center",attrs:{align:"end"}},[e.trace.root.kind?a("v-col",{attrs:{cols:"auto"}},[a("div",{staticClass:"grey--text font-weight-regular"},[e._v("Kind")]),a("div",[e._v(e._s(e.trace.root.kind))])]):e._e(),e.trace.root.statusCode?a("v-col",{attrs:{cols:"auto"}},[a("div",{staticClass:"grey--text font-weight-regular"},[e._v("Status")]),a("div",{class:{"error--text":"error"===e.trace.root.statusCode}},[e._v(" "+e._s(e.trace.root.statusCode)+" ")])]):e._e(),a("v-col",{attrs:{cols:"auto"}},[a("div",{staticClass:"grey--text font-weight-regular"},[e._v("Time")]),a("XDate",{attrs:{date:e.trace.root.time,format:"full"}})],1),a("v-col",{attrs:{cols:"auto"}},[a("div",{staticClass:"grey--text font-weight-regular"},[e._v("Duration")]),a("XDuration",{attrs:{duration:e.trace.root.duration,fixed:""}})],1),a("v-col",{attrs:{cols:"auto"}},[e.groupRoute?a("v-btn",{attrs:{depressed:"",small:"",to:e.groupRoute,exact:""}},[e._v("View group")]):e._e()],1),a("v-col",{attrs:{cols:"auto"}},[e.exploreTraceRoute?a("v-btn",{attrs:{depressed:"",small:"",to:e.exploreTraceRoute,exact:""}},[e._v("Explore trace")]):e._e()],1)],1):e._e(),e.trace.root&&e.trace.root.groupId?a("v-row",[a("v-col",[a("v-card",{attrs:{outlined:"",rounded:"lg"}},[a("v-card-text",[a("LoadPctileChart",{attrs:{"axios-params":e.axiosParams}})],1)],1)],1)],1):e._e(),a("v-row",[a("v-col",[a("SystemBarChart",{attrs:{systems:e.trace.coloredSystems}})],1)],1),a("v-row",[a("v-col",[a("v-sheet",{staticClass:"pa-4",attrs:{outlined:"",rounded:"lg"}},[a("TraceTimeline",{attrs:{"date-range":e.dateRange,trace:e.trace}})],1)],1)],1)],1)],1)},eu=[],tu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-sheet",{attrs:{outlined:"",rounded:"t-lg"}},[a("v-row",e._l(e.styledSystems,(function(t){return a("v-col",{key:t.system,staticClass:"py-5 text-center text-subtitle-2",attrs:{justify:"space-around"}},[a("v-avatar",{staticClass:"mr-2",attrs:{color:t.color.base,size:"12"}}),a("span",{staticClass:"d-inline-flex mr-1"},[e._v(e._s(e.truncate(t.system,{length:30})))]),a("span",{staticClass:"d-inline-flex blue-grey--text"},[e._v(e._s(e.percent(t.duration/e.totalDuration)))])],1)})),1)],1),a("div",{staticClass:"d-flex"},e._l(e.styledSystems,(function(t){return a("v-tooltip",{key:t.system,attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var r=n.on;return[a("div",e._g({staticClass:"bar",style:t.barStyle},r))]}}],null,!0)},[a("div",[a("span",[e._v(e._s(t.system))]),a("XDuration",{staticClass:"ml-1",attrs:{duration:t.duration}})],1)])})),1),a("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{indeterminate:"",absolute:""}})],1)},au=[],nu=Object(r["defineComponent"])({name:"SystemBarChart",props:{loading:{type:Boolean,default:!1},systems:{type:Array,required:!0}},setup:function(e){var t=Object(r["computed"])((function(){return e.systems.reduce((function(e,t){return t.duration?e+t.duration:e}),0)})),a=Object(r["computed"])((function(){var a,n=e.systems.slice(0,5),r=Object(i["a"])(n);try{for(r.s();!(a=r.n()).done;){var o=a.value;o.barStyle={width:ru(o.duration,t.value),"background-color":o.color.base}}}catch(s){r.e(s)}finally{r.f()}return n}));return{styledSystems:a,totalDuration:t,truncate:u["truncate"],percent:aa}}});function ru(e,t){if(0===t)return"100%";var a=e/t*100;return a+"%"}var ou=nu,su=(a("e4c5"),Object(ge["a"])(ou,tu,au,!1,null,"67799368",null)),iu=su.exports;xe()(su,{VAvatar:Vo["a"],VCol:wt["a"],VProgressLinear:hn["a"],VRow:kt["a"],VSheet:nn["a"],VTooltip:Dt["a"]});var uu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("table",{staticClass:"trace-table trace-table--timeline"},[e._m(0),e._m(1),a("tbody",[e._l(e.trace.spans,(function(t){return[e.trace.isVisible(t)?a("tr",{key:"span-"+t.id,staticClass:"cursor-pointer",class:{active:t===e.trace.activeSpan},attrs:{id:"span-"+t.id},on:{click:function(a){return e.showSpan(t)}}},[a("td",{style:{paddingLeft:36+20*t.level+"px"}},[a("v-btn",{staticClass:"ml-n9",attrs:{icon:"",disabled:!t.children},on:{click:function(a){return a.stopPropagation(),e.trace.toggleTree(t)}}},[a("v-icon",{attrs:{size:"28"}},[e._v(e._s(e.trace.isExpanded(t)?"mdi-chevron-down":"mdi-chevron-right"))])],1),a("span",{staticClass:"cursor-pointer span-name"},[e._v(e._s(e.spanName(t,100)))]),a("SpanChips",{staticClass:"ml-2",attrs:{span:t,"trace-mode":""}})],1),a("td",{staticClass:"text-caption",staticStyle:{position:"relative"}},[a("span",{style:t.labelStyle},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.children&&e.trace.isExpanded(t),expression:"span.children && trace.isExpanded(span)"}]},[a("XDuration",{attrs:{duration:t.durationSelf}}),a("span",{staticClass:"mx-1"},[e._v("of")])],1),a("XDuration",{attrs:{duration:t.duration}})],1),e._l(t.bars,(function(n,r){return a("span",{key:r,staticClass:"span-bar",style:n.coloredStyle,attrs:{title:e.durationFixed(n.duration)+" "+e.spanName(t)}})})),t.children?a("TraceTimelineChildrenBars",{attrs:{trace:e.trace,span:t,children:t.children,hidden:!e.trace.isExpanded(t)}}):e._e()],2)]):e._e()]}))],2)]),a("v-dialog",{attrs:{"max-width":"1280"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-sheet",[e.trace.activeSpan?a("SpanCard",{key:e.trace.activeSpan.id,attrs:{"date-range":e.dateRange,span:e.trace.activeSpan,fluid:""}}):e._e()],1)],1)],1)},cu=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("colgroup",[a("col",{staticStyle:{width:"50%"}}),a("col",{staticStyle:{width:"50%"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",{staticClass:"px-2"},[e._v("Operation")]),a("th",[e._v("Timeline")])])])}],lu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.internalChildren,(function(t){return[e._l(t.bars,(function(n,r){return a("span",{key:t.id+"-"+r,staticClass:"span-bar",style:e.hidden?n.coloredStyle:n.lightenStyle,attrs:{title:e.durationFixed(n.duration)+" "+t.name}})})),t.children?a("TraceTimelineChildrenBars",{key:t.id,attrs:{trace:e.trace,span:e.span,children:t.children,hidden:e.hidden}}):e._e()]}))],2)},du=[],pu=Object(r["defineComponent"])({name:"TraceTimelineChildrenBars",props:{trace:{type:Object,required:!0},span:{type:Object,required:!0},children:{type:Array,required:!0},hidden:{type:Boolean,required:!0}},setup:function(e){var t=Object(r["computed"])((function(){return e.children.filter((function(t){return t.endPct<=e.span.endPct&&"consumer"!==t.kind}))}));return{internalChildren:t,durationFixed:oa}}}),vu=pu,mu=Object(ge["a"])(vu,lu,du,!1,null,null,null),fu=mu.exports,bu=Object(r["defineComponent"])({name:"TraceTimeline",components:{SpanCard:bi,SpanChips:ki,TraceTimelineChildrenBars:fu},props:{dateRange:{type:Object,required:!0},trace:{type:Object,required:!0}},setup:function(e){var t=Object(r["shallowRef"])(!1);function a(a){t.value=!0,e.trace.activeSpanId=a.id}return{dialog:t,showSpan:a,spanName:ci,durationFixed:oa}}}),hu=bu,gu=(a("4ec0"),a("a4e0"),Object(ge["a"])(hu,uu,cu,!1,null,"705c5792",null)),yu=gu.exports;xe()(gu,{VBtn:Pe["a"],VDialog:br["a"],VIcon:Ie["a"],VSheet:nn["a"]});var xu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height grey lighten-5",attrs:{fluid:""}},[a("v-row",[a("v-col",{staticClass:"text-center"},[e.title?a("h1",{staticClass:"text-h1"},[e._v(e._s(e.title))]):e._e(),a("h2",{staticClass:"mt-4 text-h5"},[e._v(e._s(e.message))])])],1)],1)},Ou=[],ju=Object(r["defineComponent"])({name:"TraceError",props:{error:{type:Error,required:!0}},setup:function(e){var t=Object(r["computed"])((function(){return e.error})),a=Object(r["computed"])((function(){var e,a,n,r;return null!==(e=null===(a=t.value)||void 0===a||null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.status)&&void 0!==e?e:""})),n=Object(r["computed"])((function(){var a,n,r,o;return null!==(a=null===(n=t.value)||void 0===n||null===(r=n.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message)&&void 0!==a?a:String(e.error)}));return{title:a,message:n}}}),_u=ju,Cu=Object(ge["a"])(_u,xu,Ou,!1,null,"18d9686c",null),wu=Cu.exports;function ku(e,t){!1!==t(e,null)&&Su(e,t)}function Su(e,t){if(!e.children)return!0;var a,n=Object(i["a"])(e.children);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(!1===t(r,e))return!1;if(!1===Su(r,t))return!1}}catch(o){n.e(o)}finally{n.f()}return!0}function Vu(e,t){var a=Pu(e,t);return a}function Pu(e,t){var a=[];return ku(e,(function(e,n){e.parent=n,a.push(e),e.level=n?n.level+1:0;var r=e.startPct,o=qu(r,e.duration,t.duration);e.endPct=r+o,e.labelStyle=Ru(r,o),e.bars=[];var s=Tu(r,o);return e.bars.push({duration:e.durationSelf,style:s,coloredStyle:Object.assign({},s,{backgroundColor:e.color}),lightenStyle:Object.assign({},s,{backgroundColor:e.lightenColor})}),!0})),a}function qu(e,t,a){var n=t/a;return e+n>1?1-e:n}function Tu(e,t){var a=Iu(e),n=t<=.001?"1px":Iu(t);return{left:a,width:n}}function Ru(e,t){var a={position:"absolute",bottom:"6px"};if(e<=.5)a.left=Iu(e);else{var n=1-(e+t);a.right=Iu(n)}return a}function Iu(e){return 100*e+"%"}xe()(Cu,{VCol:wt["a"],VContainer:yt["a"],VRow:kt["a"]});var Eu=["blue","pink","green","orange","purple","teal"].map((function(e){var t=It["a"][e];return{lighten:t.lighten4,base:t.base,darken:t.darken2}}));function Mu(e){var t={};ku(e,(function(e,a){if(e._system=e.system,e._system===Pt.internalSystem&&a&&(e._system=a._system),!e._system)return!0;var n=t[e._system];n||(n={system:e._system,duration:0,color:void 0},t[e._system]=n);var r=e.durationSelf;return r&&(n.duration+=r),!0}));var a=Lu(t),n=Eu[Eu.length-1];return ku(e,(function(e){var a,r,o=null!==(a=null===(r=t[e._system])||void 0===r?void 0:r.color)&&void 0!==a?a:n;return e.color=o.base,e.lightenColor=o.lighten,e.darkenColor=o.darken,!0})),a}function Lu(e){var t=[];for(var a in e)t.push(e[a]);t.sort((function(e,t){return e.duration<t.duration?1:e.duration>t.duration?-1:0}));for(var n=0;n<t.length&&n<Eu.length-1;n++){var r=t[n];r.color=Eu[n]}return t}function Nu(){var e=l(),t=e.route,a=S(),n=a.forceReloadParams,o=Object(r["ref"])(""),s=Object(r["ref"])([]),u=Du(),c=u.isVisible,d=u.isExpanded,p=u.toggleTree,v=u.showTree,m=re((function(){var e=t.value.params,a=e.projectId,r=e.traceId;return{url:"/api/tracing/".concat(a,"/traces/").concat(r),params:Object(x["a"])({},n.value)}})),f=m.loading,b=m.data,h=m.error,g=Object(r["computed"])((function(){return t.value.params.traceId})),y=Object(r["computed"])((function(){var e;return null===(e=b.value)||void 0===e?void 0:e.trace})),O=Object(r["computed"])((function(){var e;return null===(e=b.value)||void 0===e?void 0:e.root})),j=Object(r["computed"])((function(){var e,t=null===(e=b.value)||void 0===e?void 0:e.root;if(!t)return[];var a=Vu(t,y.value);return a})),_=Object(r["computed"])((function(){if(o.value)return j.value.find((function(e){return e.id===o.value}))}));return Object(r["watch"])(j,(function(e){if(e.length){var t=e[0];if(t.children){var a,n=Object(i["a"])(t.children);try{for(n.s();!(a=n.n()).done;){var r=a.value;ku(r,(function(e){return p(e),!0}))}}catch(o){n.e(o)}finally{n.f()}}}}),{immediate:!0}),Object(r["watch"])(_,(function(e){e&&v(e)})),Object(r["watch"])(O,(function(e){e&&(s.value=Mu(e))}),{flush:"sync"}),Object(r["proxyRefs"])({activeSpanId:o,activeSpan:_,loading:f,error:h,coloredSystems:s,root:O,spans:j,id:g,trace:y,isVisible:c,isExpanded:d,toggleTree:p,showTree:v})}function Du(){var e=Object(r["shallowReactive"])({}),t=Object(r["shallowReactive"])({});function a(t){return t.id in e||Object(r["set"])(e,t.id,0),!e[t.id]}function n(e){return e.id in t||Object(r["set"])(t,e.id,!1),!t[e.id]}function o(e){Object(r["set"])(t,e.id,n(e)),s(e,n(e)?1:-1)}function s(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(t.children){var n,o=Object(i["a"])(t.children);try{for(o.s();!(n=o.n()).done;){var u,c=n.value;Object(r["set"])(e,c.id,(null!==(u=e[c.id])&&void 0!==u?u:0)+a),s(c,a)}}catch(l){o.e(l)}finally{o.f()}}}function u(e){e=e.parent;while(e)n(e)||o(e),e=e.parent}return{isVisible:a,isExpanded:n,toggleTree:o,showTree:u}}var $u=Object(r["defineComponent"])({name:"TraceShow",components:{LoadPctileChart:$s,SystemBarChart:iu,TraceTimeline:yu,TraceError:wu},setup:function(){Object(y["useTitle"])("View trace");var e=Q(),t=Nu(),a=Object(r["computed"])((function(){if(t.root)return Object(x["a"])(Object(x["a"])({},e.axiosParams()),{},{system:t.root.system,group_id:t.root.groupId})})),n=Object(r["computed"])((function(){if(t.root)return{name:"GroupList",query:Object(x["a"])(Object(x["a"])({},e.queryParams()),{},{system:t.root.system,where:"".concat(Pt.spanGroupId,' = "').concat(t.root.groupId,'"')})}})),o=Object(r["computed"])((function(){if(t.root)return{name:"GroupList",query:Object(x["a"])(Object(x["a"])({},e.queryParams()),{},{system:Pt.allSystem,query:["group by ".concat(Pt.spanGroupId),Pt.spanCount,Pt.spanErrorCount,"p50(".concat(Pt.spanDuration,")"),"p90(".concat(Pt.spanDuration,")"),"p99(".concat(Pt.spanDuration,")"),"sum(".concat(Pt.spanDuration,")"),"where ".concat(Pt.spanTraceId,' = "').concat(t.root.traceId,'"')].join(" | "),plot:null})}}));return Object(r["watch"])((function(){return t.root}),(function(t){t&&(Object(y["useTitle"])(t.name),e.changeWithin(t.time,M))})),{dateRange:e,trace:t,meta:Bu(e,t),axiosParams:a,groupRoute:n,exploreTraceRoute:o}}});function Bu(e,t){var a=Object(r["computed"])((function(){var a=t.root,n=[];return a?(a.system&&n.push({text:a.system,to:{name:"GroupList",query:Object(x["a"])(Object(x["a"])({},e.queryParams()),{},{system:a.system})},exact:!0}),a.system&&a.groupId&&n.push({text:a.name,to:{name:"GroupList",query:Object(x["a"])(Object(x["a"])({},e.queryParams()),{},{system:a.system,where:"".concat(Pt.spanGroupId,' = "').concat(a.groupId,'"')})},exact:!0}),n.push({text:t.id}),n):n}));return Object(r["proxyRefs"])({breadcrumbs:a})}var Au=$u,Fu=Object(ge["a"])(Au,Yi,eu,!1,null,"355bdd64",null),Gu=Fu.exports;xe()(Fu,{VBreadcrumbs:vi["a"],VBreadcrumbsItem:mi["a"],VBtn:Pe["a"],VCard:qe["a"],VCardText:Te["b"],VCol:wt["a"],VContainer:yt["a"],VRow:kt["a"],VSheet:nn["a"],VSkeletonLoader:so["a"]});var Xu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-card",{staticClass:"mx-auto",attrs:{flat:""}},[a("v-card-text",{staticClass:"text-h5 text-center"},[e._v(" Trace "),a("strong",[e._v(e._s(e.$route.params.traceId))]),e._v(" not found."),a("br"),e._v(" It may take up to "),a("strong",[e._v("30 seconds")]),e._v(" to process a trace. ")]),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{attrs:{loading:e.traceSearch.loading,color:"primary"},on:{click:function(t){return e.reload()}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-refresh")]),a("span",[e._v("Try again")])],1)],1)],1)],1)},Uu=[];function Hu(){var e=ee(),t=e.loading,a=e.data,n=e.request,o=Object(r["computed"])((function(){var e;return null===(e=a.value)||void 0===e?void 0:e.trace}));function s(e){n({url:"/api/traces/".concat(e)})}return Object(r["proxyRefs"])({loading:t,trace:o,find:s})}var Qu=Object(r["defineComponent"])({name:"TraceFind",setup:function(){var e=l(),t=e.router,a=e.route,n=Hu();function o(){n.find(a.value.params.traceId)}return Object(r["watch"])((function(){return n.trace}),(function(e){e&&t.replace({name:"TraceShow",params:{projectId:String(e.projectId),traceId:e.id}})})),Object(r["watch"])((function(){return a.value.params.traceId}),(function(e){n.find(e)}),{immediate:!0}),{traceSearch:n,reload:o}}}),Wu=Qu,Ku=Object(ge["a"])(Wu,Xu,Uu,!1,null,"00ff996c",null),zu=Ku.exports;xe()(Ku,{VBtn:Pe["a"],VCard:qe["a"],VCardActions:Te["a"],VCardText:Te["b"],VContainer:yt["a"],VIcon:Ie["a"]});var Ju=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.span.loading?a("v-progress-linear",{attrs:{absolute:"",indeterminate:""}}):e._e(),e.span.item?a("SpanCard",{attrs:{"date-range":e.dateRange,span:e.span.item,fluid:e.$vuetify.breakpoint.mdAndDown}}):e._e()],1)},Zu=[],Yu=Object(r["defineComponent"])({name:"SpanShow",components:{SpanCard:bi},setup:function(){var e=Q(),t=ec();return Object(r["watch"])((function(){return t.item}),(function(t){t&&(Object(y["useTitle"])(t.name),e.changeWithin(t.time,M))})),{dateRange:e,span:t}}});function ec(){var e=l(),t=e.route,a=re((function(){var e=t.value.params,a=e.projectId,n=e.traceId,r=e.spanId;return{url:"/api/tracing/".concat(a,"/traces/").concat(n,"/").concat(r)}})),n=a.loading,o=a.data,s=Object(r["computed"])((function(){var e;return null===(e=o.value)||void 0===e?void 0:e.span}));return Object(r["proxyRefs"])({loading:n,item:s})}var tc=Yu,ac=Object(ge["a"])(tc,Ju,Zu,!1,null,"33fa6768",null),nc=ac.exports;xe()(ac,{VProgressLinear:hn["a"]});var rc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height grey lighten-5",attrs:{fluid:""}},[a("v-row",[a("v-col",[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500"}},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Log in")])],1),a("v-form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("v-card",{staticClass:"px-14 py-8",attrs:{flat:""}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-account",label:"Username",rules:e.rules.username,required:"",filled:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-lock",label:"Password",type:"password",rules:e.rules.password,required:"",filled:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{loading:e.loading,disabled:!e.isValid,type:"submit",color:"primary"}},[e._v(" Sign in ")])],1)],1)],1)],1)],1)],1)],1)},oc=[],sc=function(e){return e&&0!=e.length||"Field is required"},ic=Object(r["defineComponent"])({name:"Login",setup:function(){Object(y["useTitle"])("Log in");var e=l(),t=e.router,a=xc(),n=Object(r["ref"])(!1),o={username:[sc],password:[sc]},s=Object(r["ref"])("uptrace"),i=Object(r["ref"])("uptrace"),u=ee(),c=u.loading,d=u.request;function p(){v().then((function(){a.reload()}))}function v(){var e={username:s.value,password:i.value},t="/api/users/login";return d({method:"POST",url:t,data:e})}return Object(r["watch"])((function(){return a.current}),(function(){a.isAuth&&t.push({name:"Home"}).catch((function(){}))})),{rules:o,isValid:n,username:s,password:i,loading:c,submit:p}}}),uc=ic,cc=Object(ge["a"])(uc,rc,oc,!1,null,"0819f180",null),lc=cc.exports;xe()(cc,{VBtn:Pe["a"],VCard:qe["a"],VCardActions:Te["a"],VCol:wt["a"],VContainer:yt["a"],VForm:Xr["a"],VRow:kt["a"],VSpacer:Ee["a"],VTextField:Tr["a"],VToolbar:wn["a"],VToolbarTitle:xt["b"]});var dc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("HelpCard")},pc=[],vc=Object(r["defineComponent"])({name:"Tracing",components:{HelpCard:Vt},setup:function(){Object(y["useTitle"])("Getting started with Uptrace")}}),mc=vc,fc=Object(ge["a"])(mc,dc,pc,!1,null,"69cf899e",null),bc=fc.exports;n["default"].use(b["a"]);var hc=[{name:"Home",path:"/",beforeEnter:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,a,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=xc(),e.next=3,r.getOrLoad();case 3:if(o=r.projects[0],!o){e.next=7;break}return n({name:"Overview",params:{projectId:String(o.id)}}),e.abrupt("return");case 7:n({name:"ProjectCreate"});case 8:case"end":return e.stop()}}),e)})));function t(t,a,n){return e.apply(this,arguments)}return t}()},{path:"/login",name:"Login",component:lc},{name:"Help",path:"/help/:projectId(\\d+)",component:bc},{name:"ProjectCreate",path:"/help/projects",component:bc},{path:"/overview/:projectId(\\d+)",component:ga,children:[{name:"Overview",path:"",component:Sn}]},{path:"/services/:projectId(\\d+)",component:ga,children:[{name:"ServiceOverview",path:"",component:Qn}]},{path:"/hosts/:projectId(\\d+)",component:ga,children:[{name:"HostOverview",path:"",component:er}]},{path:"/explore/:projectId(\\d+)",component:es,children:[{name:"GroupList",path:"groups",component:Hi},{name:"SpanList",path:"spans",component:Zi},{path:"",redirect:{name:"GroupList"}}]},{name:"TraceShow",path:"/traces/:projectId(\\d+)/:traceId",component:Gu},{name:"SpanShow",path:"/traces/:projectId(\\d+)/:traceId/:spanId",component:nc},{path:"/traces/:traceId",name:"TraceFind",component:zu}],gc=new b["a"]({mode:"history",base:"/",routes:hc}),yc=gc,xc=c((function(){var e,t=ee(),a=t.loading,n=t.data,o=t.request,s=Object(r["computed"])((function(){var e,t;return null!==(e=null===(t=n.value)||void 0===t?void 0:t.user)&&void 0!==e?e:{id:0,name:"Guest"}})),i=Object(r["computed"])((function(){return Boolean(s.value.id)})),u=Object(r["computed"])((function(){var e,t;return null!==(e=null===(t=n.value)||void 0===t?void 0:t.projects)&&void 0!==e?e:[]}));function c(){return e=o({url:"/api/users/current"}),e}function l(){return d.apply(this,arguments)}function d(){return d=Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e||c(),t.next=3,e;case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function p(){return o({method:"POST",url:"/api/users/logout"}).then((function(){c().finally((function(){Oc()}))}))}return l(),Object(r["proxyRefs"])({loading:a,current:s,isAuth:i,projects:u,reload:c,getOrLoad:l,logout:p})}));function Oc(){yc.push({name:"Login"}).catch((function(){}))}var jc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-link",e._g(e._b({staticClass:"d-inline-block"},"router-link",e.$attrs,!1),e.$listeners),[a("v-img",{staticClass:"shrink",attrs:{src:"/uptrace/logo-large.svg","max-width":"160",width:"160",alt:"Uptrace"}})],1)},_c=[],Cc=a("25e0"),wc={},kc=Object(ge["a"])(wc,jc,_c,!1,null,null,null),Sc=kc.exports;xe()(kc,{VImg:Cc["a"]});var Vc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-link",e._g(e._b({staticClass:"d-inline-block"},"router-link",e.$attrs,!1),e.$listeners),[a("v-img",{staticClass:"shrink",attrs:{src:"/uptrace/logo-small.svg","max-width":e.width,width:e.width,transition:"scale-transition",alt:"Uptrace"}})],1)},Pc=[],qc=Object(r["defineComponent"])({name:"UptraceLogoSmall",props:{width:{type:[Number,String],default:38}}}),Tc=qc,Rc=Object(ge["a"])(Tc,Vc,Pc,!1,null,null,null),Ic=Rc.exports;xe()(Rc,{VImg:Cc["a"]});var Ec=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"frag",rawName:"v-frag"}]},[!e.autocompleteActive&&e.user.projects.length?a("v-toolbar-title",{staticClass:"cursor-pointer",on:{click:e.onClickActiveProject}},[a("span",[e._v(e._s(e.activeProject.name))]),a("v-icon",[e._v("mdi-menu-down")])],1):e._e(),e.autocompleteActive&&e.user.projects.length?a("v-autocomplete",{ref:"el",staticClass:"v-input--dense",staticStyle:{"max-width":"300px"},attrs:{items:e.user.projects,"item-text":"name","item-value":"id","return-object":"","search-input":e.searchInput,placeholder:"Select a project","hide-details":"",filled:""},on:{"update:searchInput":function(t){e.searchInput=t},"update:search-input":function(t){e.searchInput=t},input:e.onChange,blur:e.onBlur},model:{value:e.activeProject,callback:function(t){e.activeProject=t},expression:"activeProject"}}):e._e()],1)},Mc=[],Lc=Object(r["defineComponent"])({name:"ProjectPicker",setup:function(){var e=l(),t=e.router,a=e.route,o=xc(),s=Object(r["ref"])(),u=Object(r["ref"])(""),c=Object(r["ref"])(!1),d=Object(r["computed"])({get:function(){var e=parseInt(a.value.params.projectId);if(e){var t,n=Object(i["a"])(o.projects);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.id===e)return r}}catch(s){n.e(s)}finally{n.f()}}},set:function(e){var n=a.value.name,r=Object.keys(a.value.params);1===r.length&&"projectId"===r[0]||(n="Overview"),t.push({name:n,params:{projectId:e.id.toString()}}).catch((function(){}))}}),p=Object(r["computed"])((function(){return!d.value||c.value}));function v(){setTimeout((function(){c.value=!1}),200)}function m(){n["default"].nextTick((function(){s.value&&s.value.blur()}))}function f(){c.value=!0,n["default"].nextTick((function(){s.value&&(s.value.focus(),s.value.activateMenu())}))}return{route:a,el:s,user:o,activeProject:d,searchInput:u,autocompleteActive:p,onBlur:v,onChange:m,onClickActiveProject:f}}}),Nc=Lc,Dc=Object(ge["a"])(Nc,Ec,Mc,!1,null,"1f064c0a",null),$c=Dc.exports;xe()(Dc,{VAutocomplete:Fr["a"],VIcon:Ie["a"],VToolbarTitle:xt["b"]});var Bc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-snackbar",{attrs:{color:e.snackbar.color,timeout:e.snackbar.timeout,top:""},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{text:""},on:{click:function(t){e.snackbar.active=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar.active,callback:function(t){e.$set(e.snackbar,"active",t)},expression:"snackbar.active"}},[a("span",[e._v(e._s(e.snackbar.notification))])])},Ac=[],Fc=Object(r["defineComponent"])({name:"XSnackbar",setup:function(){return{snackbar:z()}}}),Gc=Fc,Xc=a("04d2"),Uc=Object(ge["a"])(Gc,Bc,Ac,!1,null,"29f4304c",null),Hc=Uc.exports;xe()(Uc,{VBtn:Pe["a"],VSnackbar:Xc["a"]});var Qc=Object(r["defineComponent"])({name:"App",components:{UptraceLogoLarge:Sc,UptraceLogoSmall:Ic,ProjectPicker:$c,XSnackbar:Hc},setup:function(){d();var e=l(),t=e.router,a=xc(),n=Hu(),o=Object(r["shallowRef"])("");function s(){n.find(o.value)}return Object(r["watch"])((function(){return n.trace}),(function(e){e&&(t.push({name:"TraceShow",params:{projectId:String(e.projectId),traceId:e.id}}),o.value="")})),{user:a,traceSearch:n,traceId:o,jumpToTrace:s}}}),Wc=Qc,Kc=(a("e86e"),a("bb49")),zc=a("8f38"),Jc=a("7091"),Zc=a("af68"),Yc=Object(ge["a"])(Wc,o,s,!1,null,"bbe27fe4",null),el=Yc.exports;xe()(Yc,{VApp:Kc["a"],VAppBar:zc["a"],VBtn:Pe["a"],VCol:wt["a"],VContainer:yt["a"],VDivider:Po["a"],VFooter:Jc["a"],VIcon:Ie["a"],VList:Oe["a"],VListItem:je["a"],VListItemContent:_e["b"],VListItemTitle:_e["c"],VMain:Zc["a"],VMenu:Xe["a"],VRow:kt["a"],VSpacer:Ee["a"],VTab:Me["a"],VTabs:Ne["a"],VTextField:Tr["a"]});a("b20f");var tl={bind:function(e){var t=nl(e);t.style.boxSizing="content-box"},inserted:function(e,t){var a=nl(e),n=window.getComputedStyle(a),r=document.createElement("div");Object.assign(r.style,{position:"absolute",top:"0",left:"0",visibility:"hidden",height:"0",overflow:"hidden",whiteSpace:"pre",fontSize:n.fontSize,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontStyle:n.fontStyle,letterSpacing:n.letterSpacing,textTransform:n.textTransform}),r.setAttribute("aria-hidden","true"),document.body.appendChild(r),a.mirror=r,rl(a,t),a.addEventListener("input",rl.bind(null,a,t))},componentUpdated:function(e,t){rl(nl(e),t)},unbind:function(e,t){var a=nl(e);document.body.removeChild(a.mirror),e.removeEventListener("input",rl.bind(null,a,t))}},al=tl;function nl(e){if("INPUT"===e.tagName.toUpperCase())return e;var t=e.querySelector("input");if(!t)throw new Error("v-autowidth can only be used on elements with an input");return t}function rl(e,t){var a=e.mirror,n={maxWidth:"none",minWidth:"none",comfortZone:0},r=Object.assign({},n,t.value);e.style.maxWidth=r.maxWidth,e.style.minWidth=r.minWidth;var o=e.value;o||(o=e.placeholder||"");while(a.childNodes.length)a.removeChild(a.childNodes[0]);a.appendChild(document.createTextNode(o));var s=a.scrollWidth+r.comfortZone+2;s!=e.scrollWidth&&(e.style.width="".concat(s,"px"))}n["default"].directive("autowidth",al);var ol=a("a69d");n["default"].directive("frag",ol["a"]);var sl=a("654b");Object(sl["a"])(K.a,{retries:2,retryDelay:sl["a"].exponentialDelay}),K.a.interceptors.request.use((function(e){return e.baseURL=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_URL,e.withCredentials=!0,e})),K.a.interceptors.response.use((function(e){return e}),(function(e){var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&Oc(),Promise.reject(e)}));a("3468"),a("365e"),a("c058"),a("e52c"),a("fdca");var il=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-toolbar",class:e.color},[e.loading?a("v-progress-linear",{attrs:{absolute:"",indeterminate:""}}):e._e(),a("v-container",{staticClass:"py-0",attrs:{fluid:e.fluid}},[a("v-row",{staticClass:"ma-0"},[a("v-col",{staticClass:"pa-0"},[a("v-toolbar",{attrs:{flat:"",color:"transparent",height:"auto"}},[e._t("default")],2)],1)],1)],1)],1)},ul=[],cl=Object(r["defineComponent"])({name:"PageToolbar",props:{loading:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1},color:{type:String,default:"light-blue lighten-5"}},setup:function(){return{}}}),ll=cl,dl=(a("87c2"),Object(ge["a"])(ll,il,ul,!1,null,null,null)),pl=dl.exports;xe()(dl,{VCol:wt["a"],VContainer:yt["a"],VProgressLinear:hn["a"],VRow:kt["a"],VToolbar:wn["a"]});var vl=Object(r["defineComponent"])({name:"XPlaceholder",setup:function(e,t){return function(){return t.slots.placeholder?ml(t.slots.placeholder()):t.slots.default?ml(t.slots.default()):void 0}}});function ml(e){return Array.isArray(e)&&e.length>1?Object(r["h"])("div",e):e}var fl,bl,hl,gl,yl=vl,xl=Object(ge["a"])(yl,fl,bl,!1,null,null,null),Ol=xl.exports,jl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.pager.numPage>1?a("v-row",{attrs:{align:"center",justify:"space-between","no-gutters":""}},[a("v-col",{attrs:{cols:"2"}}),a("v-col",[a("v-pagination",{attrs:{"total-visible":7,length:e.pager.numPage},model:{value:e.pager.page,callback:function(t){e.$set(e.pager,"page",t)},expression:"pager.page"}})],1),a("v-col",{staticClass:"text-right",attrs:{cols:"2"}},[e.pager.numItem?a("XPager",{attrs:{pager:e.pager,"without-prev-next":""}}):e._e()],1)],1):e._e()},_l=[],Cl=n["default"].component("XPager",{functional:!0,props:{pager:{type:Object,required:!0},withoutPrevNext:{type:Boolean,default:!1}},render:function(e,t){var a=t.props,n=t.data,r=[e("span",{class:"text-body-2"},"".concat(a.pager.pos.start+1," - ").concat(a.pager.pos.end," of ")+"".concat(a.pager.numItem))];return a.withoutPrevNext||(r.push(e(Pe["a"],{class:{"ml-2":!0},props:{icon:!0,disabled:!a.pager.hasPrev},on:{click:a.pager.prev}},[e(Ie["a"],"mdi-chevron-left")])),r.push(e(Pe["a"],{props:{icon:!0,disabled:!a.pager.hasNext},on:{click:a.pager.next}},[e(Ie["a"],"mdi-chevron-right")]))),e("span",Object(x["a"])({},n),r)}}),wl=Cl,kl=Object(ge["a"])(wl,hl,gl,!1,null,"518cdcf5",null),Sl=kl.exports,Vl=Object(r["defineComponent"])({name:"XPagination",components:{XPager:Sl},props:{pager:{type:Object,required:!0}}}),Pl=Vl,ql=a("c269"),Tl=Object(ge["a"])(Pl,jl,_l,!1,null,"68dec63a",null),Rl=Tl.exports;xe()(Tl,{VCol:wt["a"],VPagination:ql["a"],VRow:kt["a"]});var Il,El,Ml=n["default"].component("XNum",{functional:!0,props:{value:{type:void 0,required:!0},name:{type:String,default:""}},render:function(e,t){var a=t.props,n=Ht(a.name,a.value),r=ia(n);return e("span",r(a.value))}}),Ll=Ml,Nl=Object(ge["a"])(Ll,Il,El,!1,null,"6fba924e",null),Dl=Nl.exports,$l=a("71bc"),Bl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"my-0 x-code",class:{"x-code--wrap":e.wrap},attrs:{color:"grey lighten-5"}},[a("prism",{attrs:{code:e.code,inline:e.inline,language:e.language}})],1)},Al=[],Fl=a("c45e"),Gl=a.n(Fl),Xl=Object(r["defineComponent"])({name:"XCode",components:{Prism:Gl.a},props:{code:{type:String,required:!0},language:{type:String,default:"markup"},inline:{type:Boolean,default:!1}},setup:function(e){var t=Object(r["computed"])((function(){return!e.code.includes("\n")}));return{wrap:t}}}),Ul=Xl,Hl=(a("5a7a"),Object(ge["a"])(Ul,Bl,Al,!1,null,null,null)),Ql=Hl.exports;xe()(Hl,{VSheet:nn["a"]});var Wl=n["default"].component("XText",{functional:!0,props:{name:{type:String,default:""},value:{type:void 0,required:!0}},render:function(e,t){var a=t.props,n=t.data;if(Array.isArray(a.value))return e("span",n,a.value.join(", "));switch(Object($l["a"])(a.value)){case"object":return e(Ql,{props:{code:JSON.stringify(a.value,null,2)}});case"string":var r=Kl(a.value);if("object"===Object($l["a"])(r))return e(Ql,{props:{code:JSON.stringify(r,null,2)}});break}return zl(a.value)?e(Ql,{props:{code:a.value}}):e(Dl,{props:{name:a.name,value:a.value}})}});function Kl(e){try{return JSON.parse(e)}catch(t){return}}function zl(e){return"string"===typeof e&&e.includes("\n")}var Jl,Zl,Yl,ed,td,ad,nd=Wl,rd=Object(ge["a"])(nd,Jl,Zl,!1,null,"44e08f33",null),od=rd.exports,sd=n["default"].component("XDate",{functional:!0,props:{date:{type:[String,Date],required:!0}},render:function(e,t){var a=t.props,n=t.data,r=N(a.date);return e("span",n,D(r))}}),id=sd,ud=Object(ge["a"])(id,Yl,ed,!1,null,"5c2cf197",null),cd=ud.exports,ld=n["default"].component("XDuration",{functional:!0,props:{duration:{type:Number,default:void 0}},render:function(e,t){var a=t.props,n=oa(a.duration);return e("span",n)}}),dd=ld,pd=Object(ge["a"])(dd,td,ad,!1,null,"77d6d3b7",null),vd=pd.exports;n["default"].component("PageToolbar",pl),n["default"].component("XPlaceholder",Ol),n["default"].component("XPagination",Rl),n["default"].component("XNum",Dl),n["default"].component("XText",od),n["default"].component("XDate",cd),n["default"].component("XDuration",vd),n["default"].component("XCode",Ql);var md=a("823e");n["default"].use(md["a"]);var fd=new md["a"]({});n["default"].use(r["default"]),n["default"].config.productionTip=!1,new n["default"]({router:yc,vuetify:fd,render:function(e){return e(el)}}).$mount("#app")},ce7b:function(e,t,a){"use strict";a("b19c")},cff3:function(e,t,a){"use strict";a("e4c1")},d1ab:function(e,t,a){},d36a:function(e,t,a){"use strict";a("d1ab")},d683:function(e,t,a){},d798:function(e,t,a){},dd93:function(e,t,a){},e2c0:function(e,t,a){},e355:function(e,t,a){"use strict";a("d683")},e4c1:function(e,t,a){},e4c5:function(e,t,a){"use strict";a("c867")},e86e:function(e,t,a){"use strict";a("2cd1")}});
//# sourceMappingURL=app.8bb8c23f.js.map